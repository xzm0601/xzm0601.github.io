//jdedate
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b():a.jeDate=b()}(this,function(){function DateTime(){var a=new Date,b=this;b.reDate=function(){return new DateTime},b.GetValue=function(){return a},b.GetFullYear=function(){return a.getFullYear()},b.GetMonth=function(){return a.getMonth()+1},b.GetHours=function(){return a.getHours()},b.GetDate=function(){return a.getDate()},b.GetMinutes=function(){return a.getMinutes()},b.GetSeconds=function(){return a.getSeconds()}}function jeDate(a,b){this.opts=b,this.valCell=a,this.format=this.opts.format,this.initdates()}var jet,doc,regymdzz,gr,regymd,parseInt,config,searandom,jedfn,jefix,matArr;return $&&$.fn&&$.fn.jquery?(jet={},doc=document,regymdzz="YYYY|MM|DD|hh|mm|ss|zz",gr=/\-/g,regymd="YYYY|MM|DD|hh|mm|ss|zz".replace("|zz",""),parseInt=function(a){return window.parseInt(a,10)},config={skinCell:"jedateblue",language:{name:"cn",month:["01","02","03","04","05","06","07","08","09","10","11","12"],weeks:["日","一","二","三","四","五","六"],times:["小时","分钟","秒数"],titText:"请选择日期时间",clear:"清空",today:"现在",yes:"确定",close:"关闭"},range:!1,trigger:"click",format:"YYYY-MM-DD hh:mm:ss",minDate:"1900-01-01 00:00:00",maxDate:"2099-12-31 23:59:59"},$.fn.jeDate=function(a){return new jeDate($(this),a||{})},$.extend({jeDate:function(a,b){return new jeDate($(a),b||{})}}),jet.isObj=function(a){for(var b in a)return!0;return!1},jet.reMatch=function(a){return a.match(/\w+|d+/g)},jet.docScroll=function(a){return a=a?"scrollLeft":"scrollTop",document.body[a]|document.documentElement[a]},jet.docArea=function(a){return document.documentElement[a?"clientWidth":"clientHeight"]},jet.isLeap=function(a){return 0!==a%100&&0===a%4||0===a%400},jet.digit=function(a){return 10>a?"0"+(0|a):a},jet.isNum=function(a){return/^[+-]?\d*\.?\d*$/.test(a)?!0:!1},jet.getDaysNum=function(a,b){var c=31;switch(parseInt(b)){case 2:c=jet.isLeap(a)?29:28;break;case 4:case 6:case 9:case 11:c=30}return c},jet.getYM=function(a,b,c){var d=new Date(a,b-1);return d.setMonth(b-1+c),{y:d.getFullYear(),m:d.getMonth()+1}},jet.prevMonth=function(a,b,c){return jet.getYM(a,b,0-(c||1))},jet.nextMonth=function(a,b,c){return jet.getYM(a,b,c||1)},jet.parse=function(a,b){return b.replace(new RegExp(regymdzz,"g"),function(b){return"zz"==b?"00":jet.digit(a[b])})},jet.isparmat=function(a){var b=jet.reMatch(a),c=regymdzz.split("|"),d=[];return $.each(c,function(a,c){$.each(b,function(a,b){c==b&&d.push(b)})}),d.join("-")},jet.parseOld=function(a,b,c){a=a.concat(b);var d={},f=(regymdzz.split("|"),jet.reMatch(c));return $.each(a,function(a,b){d[f[a]]=parseInt(b)}),c.replace(new RegExp(regymdzz,"g"),function(a){return"zz"==a?"00":jet.digit(d[a])})},jet.checkFormat=function(a){var b=[];return a.replace(new RegExp(regymdzz,"g"),function(a){b.push(a)}),b.join("-")},jet.splMatch=function(a){var b=a.split(" ");return jet.reMatch(b[0])},jet.mlen=function(a){var b=a.match(/\w+|d+/g).length,c="hh"==a.substring(0,2),d=c&&3>=b?7:b;return d},jet.checkDate=function(a){var b=jet.reMatch(a);if(isNaN(b[0])||isNaN(b[1])||isNaN(b[2]))return!1;if(b[1]>12||b[1]<1)return!1;if(b[2]<1||b[2]>31)return!1;if((4==b[1]||6==b[1]||9==b[1]||11==b[1])&&b[2]>30)return!1;if(2==b[1]){if(b[2]>29)return!1;if((0==b[0]%100&&0!=b[0]%400||0!=b[0]%4)&&b[2]>28)return!1}return!0},jet.GetDateTime=function(a,b){var c,d,e,f;return b=b||"YYYY-MM-DD hh:mm:ss",c=$.extend({YYYY:null,MM:null,DD:null,hh:0,mm:0,ss:0},a),d={YYYY:"FullYear",MM:"Month",DD:"Date",hh:"Hours",mm:"Minutes",ss:"Seconds"},e=(new DateTime).reDate(),$.each(["ss","mm","hh","DD","MM","YYYY"],function(a,b){if(!jet.isNum(parseInt(c[b])))return null;var f=e.GetValue();(parseInt(c[b])||0==parseInt(c[b]))&&f["set"+d[b]](e["Get"+d[b]]()+("MM"==b?-1:0)+parseInt(c[b]))}),f=jet.parse({YYYY:e.GetFullYear(),MM:e.GetMonth(),DD:e.GetDate(),hh:e.GetHours(),mm:e.GetMinutes(),ss:e.GetSeconds()},b)},jet.isValHtml=function(a){return/textarea|input/.test(a[0].tagName.toLocaleLowerCase())},jet.isBool=function(a){return void 0==a||1==a?!0:!1},searandom=function(){var c,a="",b=[1,2,3,4,5,6,7,8,9,0];for(c=0;8>c;c++)a+=b[Math.round(Math.random()*(b.length-1))];return a},jedfn=jeDate.prototype,jefix="jefixed",matArr=jet.reMatch(regymdzz),jedfn.initdates=function(){var i,k,j,l,m,a=this,b=a.opts,d=(new Date,void 0!=b.trigger?b.trigger:config.trigger),e=void 0==b.zIndex?1e4:b.zIndex,f=void 0==b.isinitVal||0==b.isinitVal?!1:!0,g="#jedatebox"+searandom(),h=jet.isBool(b.isShow);a.areaVal=[],b.range=b.range||config.range,a.fixed=jet.isBool(b.fixed),i=function(c,d){var j,k,l,f=$("<div/>",{id:d.replace(/\#/g,""),"class":"jedatebox "+(b.skinCell||config.skinCell)}),i=h?1==a.fixed?"absolute":"fixed":"relative";f.attr("author","chen guojun").css({"z-index":"#jedatebox"!=d?"":e,position:i}),"#jedatebox"!=d&&f.attr({jeformat:b.format||config.format,jefixed:g}),j=config.minDate.split(" "),k=config.maxDate.split(" "),jet.minDate=(/\-/g.test(b.minDate)||void 0==b.minDate?b.minDate:j[0]+" "+b.minDate)||config.minDate,jet.maxDate=(/\-/g.test(b.maxDate)||void 0==b.maxDate?b.maxDate:k[0]+" "+b.maxDate)||config.maxDate,jet.boxelem=h?"#jedatebox":d,a.format=h?b.format||config.format:f.attr("jeformat"),l=a.getValue({}),$(c).append(f),a.renderHtml(l[0].YYYY,l[0].MM,l[0].DD,b,jet.boxelem)},f&&d&&(j=b.initDate||[],j[1]?(l=jet.reMatch(jet.GetDateTime(j[0])),k=[{YYYY:l[0],MM:jet.digit(l[1]),DD:jet.digit(l[2]),hh:jet.digit(l[3]),mm:jet.digit(l[4]),ss:jet.digit(l[5])}]):k=a.getValue(jet.isObj(j[0])?j[0]:{}),a.setValue(k[0],b.format||config.format)),h?(m=["body","#jedatebox"],d?a.valCell.on(d,function(a){a.stopPropagation(),$(m[1]).length>0||i(m[0],m[1])}):i(m[0],m[1])):i(a.valCell,g)},jedfn.parseFormat=function(a,b){return jet.parse(a,b)},jedfn.parseValue=function(a,b){var j,k,c=this,d=[],e=c.opts,f="",g=$(jet.boxelem),h=void 0==b?$(g.attr(jefix)).length>0?g.attr("jeformat"):c.format:b,i=$.isFunction(a)?a():a;return(""!=i||i.length>0)&&(j=0!=e.range,k=new Array(j?2:1),$.each(k,function(a){var b=2==k.length,f={},g=jet.reMatch(h),j=b?i.split(e.range):i;b&&$.each(jet.reMatch(j[a]),function(a,b){f[7==jet.mlen(c.format)?g[a]:matArr[a]]=b}),d.push(c.parseFormat(b?f:j,h)),f={}}),f=d.join(j?e.range:"")),f},jedfn.setValue=function(a,b,c){var f,g,h,i,j,d=this,e=d.valCell;return"string"==typeof a&&""!=a&&0==d.opts.range?(g=jet.reMatch(a),h={},$.each(jet.reMatch(d.format),function(a,b){h[b]=parseInt(g[a])}),f=h):f=a,i=jet.isValHtml(e)?"val":"text",j=d.parseValue(f,b),0!=c&&e[i](j),j},jedfn.getValue=function(a){var e,m,n,o,p,q,r,s,t,u,v,w,b=this,c=b.valCell,d=b.opts,f=(new DateTime).reDate(),g=f.GetFullYear(),h=f.GetMonth(),i=f.GetDate(),j=f.GetHours(),k=f.GetMinutes(),l=f.GetSeconds();return void 0==a&&jet.isBool(d.isShow)?(m=jet.isValHtml(c)?"val":"text",e=c[m]()):(n=jet.isBool(d.isShow)?""==b.getValue():!jet.isBool(d.isShow),o=$.extend({YYYY:null,MM:null,DD:null},a||{}),p=[],q=new Array(2),r=function(a){return[void 0==o[a]||null==o[a],o[a]]},s=[{YYYY:g,MM:h,DD:i,hh:j,mm:k,ss:l,zz:0},{YYYY:g,MM:h,DD:i,hh:j,mm:k,ss:l,zz:0}],n?$.each(q,function(a){var b={};$.each(matArr,function(c,d){b[d]=parseInt(r(d)[0]?s[a][d]:r(d)[1])}),p.push($.extend(s[a],b))}):(t=0!=d.range,u=b.getValue(),v=u.split(d.range),w=jet.reMatch(b.format),$.each(q,function(b){var e,c={},d=t?jet.reMatch(v[b]):jet.reMatch(u);$.each(w,function(a,b){c[b]=parseInt(d[a])}),e=$.extend(c,a||{}),p.push($.extend(s[b],e))})),e=p),e},jedfn.renderHtml=function(a,b,c,d,e){var p,q,r,s,t,u,v,w,x,y,z,A,B,C,E,F,G,f=this,g=$(e),h=d.language||config.language,i=0!=d.range,j=jet.isBool(d.isShow),k=jet.minDate.replace(/\s+/g," ").split(" "),l=jet.maxDate.replace(/\s+/g," ").split(" "),m=f.getValue({YYYY:a,MM:b,DD:c}),n=m[0],o=m[1];f.format=j?f.format:g.attr("jeformat"),p=jet.mlen(f.format),q=/\hh/.test(f.format),r="cn"==h.name?j?h.clear:"重置":j?h.clear:"Reset",s="<div class='arthead'></div><div class='artcont'></div>",t=$("<div/>",{"class":"maincont"}),u=$("<div/>",{"class":"mainfoot"}),v=$("<div/>",{"class":"daybox"}).append(s),w=$("<div/>",{"class":"ymsbox"}).append(s),x=$("<div/>",{"class":"timebox"}).append(s),t.append(w).append(v).append(1==p||2==p?"":x),g.empty().append(t.children().hide()).append(u),y=function(){var a="<em></em><i>:</i><em></em><i>:</i><em></em>";return i?a+"<span> ~ </span>"+a:a},z='<span class="clear">'+r+'</span><span class="today">'+h.today+'</span><span class="setok">'+h.yes+"</span>",A=$("<div/>",{"class":"timecon"}).append(y()),B=$("<div/>",{"class":"btnscon"}).append(z),u.append(A).append(B),g.append($("<div/>",{"class":"jedate-tips"}).hide()),f.maincon=function(a,b){return g.find(a+" > "+(0==b?".arthead":".artcont"))},q?(C=/\s/.test(jet.minDate)?k[1]:k[0],/\s/.test(jet.maxDate)?l[1]:l[0],E=jet.reMatch(C),F=[n.hh,n.mm,n.ss],G=[],G=i?""==f.getValue()?7==p?E.concat(E):E.concat([0,0,0]):F.concat([o.hh,o.mm,o.ss]):F,$.each(u.find(".timecon em"),function(a){$(this).text(jet.digit(G[a]))})):u.find(".timecon").hide(),7==p?(f.maincon(".timebox",0).html(h.titText),g.find(".timebox").show(),f.eachHms(d,g)):p>=3&&6>=p&&(f.maincon(".daybox",0).append('<em class="yearprev yprev"></em><em class="monthprev mprev"></em><em class="monthnext mnext"></em><em class="yearnext ynext"></em>'),g.find(".daybox").show(),f.eachDays(n.YYYY,n.MM,n.DD,d,g),q&&(f.maincon(".timebox",1).attr("cont","no"),f.maincon(".timebox",0).html(h.titText+'<em class="close"></em>'),g.find(".timecon").on("click",function(){"no"==f.maincon(".timebox",1).attr("cont")&&(f.maincon(".timebox",1).attr("cont","yes"),g.find(".ymsbox,.daybox").hide(),g.find(".timebox").show(),f.eachHms(d,g),f.dateOrien(g,f.valCell))}),f.maincon(".timebox",0).on("click",".close",function(){f.maincon(".timebox",1).html("").attr("cont","no"),g.find(".ymsbox,.timebox").hide(),g.find(".daybox").show(),f.dateOrien(g,f.valCell)}),A.css({cursor:"pointer"})),f.maincon(".ymsbox",0).append('<em class="yearprev yprev"></em><em class="yearnext ynext"></em><em class="close"></em>').addClass("ymfix"),f.eachYM(n.YYYY,n.MM,d,g,".fixcon")),(1==p||2==p)&&(f.maincon(".ymsbox",0).append('<em class="yearprev yprev"></em><em class="yearnext ynext"></em>'),g.find(".ymsbox").show(),f.eachYM(n.YYYY,n.MM,d,g,".jedate-cont")),jet.isBool(d.isTime)&&j||u.find(".timecon").hide(),j||u.find(".today").hide(),f.eventsDate(d,g),setTimeout(function(){d.success&&d.success(g)},50)},jedfn.createYMHtml=function(a,b,c){var d=parseInt(a),e=parseInt(b),f=this.maincon(".daybox",0),g=$("<p/>").css({width:jet.isBool(c.multiPane)?"":"50%"}),h="<span class='ymbtn'>"+e+"月 "+d+"年</span>";return f.append(g.html(h)),d+"-"+e},jedfn.eachYM=function(a,b,c){var p,q,r,s,t,u,f=this,g=new Array(15),h=new Date,i=c.language||config.language,j=f.maincon(".ymsbox",1),k=jet.isBool(c.multiPane),l=jet.mlen(f.format),m=f.getValue({}),n=/\hh/.test(f.format),o=1==l;j.find(".ymcon").length>0&&j.find(".ymcon").remove(),$.each(new Array(k?1:2),function(b){var l,d=function(a,c,d){var e=a.replace(gr,""),g=c.replace(gr,""),h=d.replace(gr,"");return/YYYY-MM-DD/g.test(jet.isparmat(f.format))?parseInt(e)==parseInt(g)?0==b?"actdate":"":"":parseInt(e)==parseInt(g)?(n||(f.areaVal.push(a),f.areaStart=!0),"actdate"):parseInt(e)>parseInt(g)&&parseInt(e)<parseInt(h)?"contain":parseInt(e)==parseInt(h)?(n||(f.areaVal.push(a),f.areaStart=!0),"actdate"):""},e=$("<div/>",{"class":"ymcon"}).addClass(1==b?"spaer":""),k=[];$.each(o?g:i.month,function(e,i){var l,n,p,q,r,s,t,u,v,w,x,y,j=1==b?a+(o?g.length:1):a;e=1==b?o?15+e:12+e:e,o?(n=jet.splMatch(jet.minDate),p=jet.splMatch(jet.maxDate),q=n[0],r=p[0],s=j-7+e,t=""==f.getValue()&&jet.isBool(c.isShow)?h.getFullYear():f.getValue(),q>s||s>r?k.push({style:"disabled",ym:s,idx:e}):(l=d(s.toString(),t.toString(),m[1].YYYY.toString()),k.push({style:l,ym:s,idx:e}))):(n=jet.splMatch(jet.minDate),p=jet.splMatch(jet.maxDate),u=parseInt(j+""+jet.digit(i)+"01"),v=parseInt(n[0]+""+jet.digit(n[1])+jet.digit(n[2])),w=parseInt(p[0]+""+jet.digit(p[1])+jet.digit(p[2])),v>u||u>w?k.push({style:"disabled",ym:j+"-"+jet.digit(i),idx:e}):(x=j+"-"+jet.digit(i),y=m[0].YYYY+"-"+jet.digit(m[0].MM),l=d(x,y,m[1].YYYY+"-"+jet.digit(m[1].MM)),k.push({style:l,ym:j+"-"+jet.digit(i),idx:e})))}),l=$("<table/>",{"class":o?"yul":"ymul"}),$.each(new Array(o?5:4),function(){var b=$("<tr/>");$.each(new Array(3),function(){var a=$("<td/>");l.append(b.append(a))})}),$.each(k,function(a,b){l.find("td").eq(a).addClass(b.style).attr({idx:b.idx,"je-val":b.ym}).html(b.ym)}),j.append(e.append(l))}),p=j.find("td"),q=f.maincon(".ymsbox",0),r=o?k?14:29:k?11:23,s=p.eq(0).text(),t=p.eq(r).text(),u=[o?s:s.substring(0,4),o?t:t.substring(0,4)],q.find("p").remove(),q.append("<p>"+s+" ~ "+t+"</p>").attr({min:u[0],max:u[1]})},jedfn.dateRegExp=function(valArr){var i,enval=valArr.split(",")||[],re="",doExp=function(val){var arr,tmpEval,re=/#?\{(.*?)\}/;for(val+="";null!=(arr=re.exec(val));)arr.lastIndex=arr.index+arr[1].length+arr[0].length-arr[1].length-1,tmpEval=parseInt(eval(arr[1])),0>tmpEval&&(tmpEval="9700"+-tmpEval),val=val.substring(0,arr.index)+tmpEval+val.substring(arr.lastIndex+1);return val};if(enval&&enval.length>0){for(i=0;i<enval.length;i++)re+=doExp(enval[i]),i!=enval.length-1&&(re+="|");re=re?new RegExp("(?:"+re+")"):null}else re=null;return re},jedfn.eachDays=function(a,b,c,d){var f=this,g=jet.isBool(d.isShow),h=parseInt(a),i=parseInt(b),j=f.valCell,k=d.language||config.language,l=d.valiDate||[],m=jet.reMatch(jet.minDate),n=parseInt(m[0]+""+jet.digit(m[1])+jet.digit(m[2])),o=jet.reMatch(jet.maxDate),p=parseInt(o[0]+""+jet.digit(o[1])+jet.digit(o[2])),q=jet.isBool(d.multiPane),r=f.getValue(g?{}:{YYYY:a,MM:b,DD:c}),s=""!=(j.val()||j.text())&&0!=d.range,t=parseInt(r[0].YYYY+""+jet.digit(r[0].MM)+jet.digit(r[0].DD)),u=function(a,b,c){var e=d.marks,f=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1};return $.isArray(e)&&e.length>0&&f(e,a+"-"+jet.digit(b)+"-"+jet.digit(c))?'<i class="marks"></i>':""},v=function(a,b,c){var e,g,h,i;return 1==d.festival&&"cn"==k.name?(g=f.jeLunar(a,b-1,c),h=g.solarFestival||g.lunarFestival,i=""!=(h&&g.jieqi)?h:g.jieqi||g.showInLunar,e='<p><span class="solar">'+c+'</span><span class="lunar">'+i+"</span></p>"):e='<p class="nolunar">'+c+"</p>",e},w=function(a,b,c,d){var e=parseInt(a+""+jet.digit(b)+jet.digit(c));if(d){if(e>=n&&p>=e)return!0}else if(n>e||e>p)return!0},x=function(a,b){var l,m,n,o,p,q,x,y,z,A,B,C,c=0,d=[],e=new Date(a,b-1,1).getDay()||7,g=jet.getDaysNum(a,b),h=0,i=jet.prevMonth(a,b),j=jet.getDaysNum(a,i.m),k=jet.nextMonth(a,b);for(l=j-e+1;j>=l;l++,c++)m=u(i.y,i.m,l),n=w(i.y,i.m,l,!1)?"disabled":"other",d.push({style:n,ymd:i.y+"-"+i.m+"-"+l,day:l,d:v(i.y,i.m,l)+m,idx:h++});for(o=1;g>=o;o++,c++)p=u(a,b,o),n="",q=parseInt(a+""+jet.digit(b)+jet.digit(o)),x=parseInt(r[1].YYYY+""+jet.digit(r[1].MM)+jet.digit(r[1].DD)),y=q>t,z=x>q,w(a,b,o,!0)?q==t?(n="actdate",f.areaVal.push(a+"-"+jet.digit(b)+"-"+jet.digit(o)),f.areaStart=!0):y&&z&&s?n="contain":q==x&&s?(n="actdate",f.areaVal.push(a+"-"+jet.digit(b)+"-"+jet.digit(o)),f.areaEnd=!0):n="":n="disabled",d.push({style:n,ymd:a+"-"+b+"-"+o,day:o,d:v(a,b,o)+p,idx:h++});for(A=1,B=42-c;B>=A;A++)C=u(k.y,k.m,A),n=w(k.y,k.m,A,!1)?"disabled":"other",d.push({style:n,ymd:k.y+"-"+k.m+"-"+A,day:A,d:v(k.y,k.m,A)+C,idx:h++});return d},y=function(a){var b=jet.reMatch(a),c=[];return $.each(b,function(a,b){c.push(jet.digit(b))}),c.join("-")},z=new Array(q?1:2),A=i+1>12,B=[];$.each(z,function(a){var m,n,o,p,c=$("<table/>",{"class":"daysul"}),e=$("<thead/>"),g=$("<tbody/>"),j=1==a?42:0;c.append(e).append(g),$.each(new Array(7),function(a){var b=$("<tr/>");$.each(new Array(7),function(){var c=$("<th/>"),d=$("<td/>");b.append(0==a?c:d.attr("idx",j++)),0==a?e.append(b):g.append(b)})}),m=A&&1==a?h+1:h,n=A&&1==a?1:1==a?i+1:i,o=x(m,n),p=$("<div/>",{"class":"contlist"}),$.each(k.weeks,function(a,b){c.find("th").eq(a).text(b)}),B.push(f.createYMHtml(m,n,d)),$.each(o,function(a,b){var e,g,h,i,j,d=b.style;l.length>0&&""!=l[0]&&(/\%/g.test(l[0])?(e=l[0].replace(/\%/g,"").split(","),g=[],$.each(e,function(a,b){g.push(jet.digit(parseInt(b)))}),h=-1==$.inArray(jet.digit(b.day),g),d=jet.isBool(l[1])?h?"disabled":d:h?d:"disabled"):(i=f.dateRegExp(l[0]),j=i.test(jet.digit(b.day)),d=jet.isBool(l[1])?j?"disabled":b.style:j?b.style:"disabled")),c.find("td").eq(a).addClass(d).attr("je-val",y(b.ymd)).html(b.d)}),f.maincon(".daybox",1).append(p.append(c)).addClass(1==a?"spaer":"")}),f.maincon(".daybox",0).attr("je-ym",B.join(","))},jedfn.eachHms=function(a,b){var w,c=this,d=a.language||config.language,e=jet.isBool(a.multiPane),f=c.getValue({}),g=""==c.getValue(),h=0==a.range,i=jet.minDate.replace(/\s+/g," ").split(" "),j=jet.maxDate.replace(/\s+/g," ").split(" "),k=/YYYY-MM-DD/g.test(jet.isparmat(c.format))&&/\hh/.test(c.format),l=jet.reMatch(i[1]),m=jet.reMatch(j[1]),n=c.maincon(".timebox",1),o=["action","disabled"],p=b.find(".mainfoot .timecon em"),q=new Date,r=q.getHours(),s=q.getMinutes(),t=q.getSeconds(),u=[f[0].hh||r,f[0].mm||s,f[0].ss||t],v=[f[1].hh||r,f[1].mm||s,f[1].ss||t];0==a.range&&b.find(".timelist").length>0||($.each(new Array(h?1:2),function(b){var c=$("<div/>",{"class":"timelist"}).css({width:h?"100%":"50%","float":h?"":"left"}),f=$("<div/>",{"class":"contime"}),i=$("<div/>",{"class":"textbox"}),j=i.append("<p>"+d.times[0]+"</p><p>"+d.times[1]+"</p><p>"+d.times[2]+"</p>");c.append(j),n.addClass(1==b?"spaer":""),$.each([24,60,60],function(d,e){var q,r,h="",i=$("<ul/>").attr("idx",1==b?3+d:d),j=p.eq(d).text();for(q=0;e>q;q++)r=$("<li/>"),h=0!=a.range?k?0==b?q>=l[d]?q==(g?l[d]:u[d])?o[0]:"":o[1]:q>m[d]?o[1]:q==(g?0:v[d])?o[0]:"":q>=l[d]?q==(g?l[d]:0==b?u[d]:v[d])?o[0]:"":o[1]:q>=l[d]&&q<=m[d]?j<l[d]?q==l[d]?o[0]:"":j>m[d]?q==m[d]?o[0]:"":q==j?o[0]:"":o[1],r.text(jet.digit(q)).addClass(h),n.append(c.append(f.append(i.append(r))))}),0==e&&h&&c.css({"padding-left":c.outerWidth()/2+12,"padding-right":c.outerWidth()/2+12})}),c.locateScroll(n.find("ul")),c.clickTime(a,b),w=[],$.each(l,function(a,b){parseInt(b)>parseInt(m[a])&&w.push("不能大于最大"+d.times[a])}),w.length>0&&c.tips(w.join("<br/>"),4.5))},jedfn.eventsDate=function(a,b){var e,c=this;jet.isBool(a.multiPane),c.clickYM(a,b),c.clickDays(a,b),c.clickBtn(a,b),jet.isBool(a.isShow)&&(e=a.position||[],e.length>0?b.css({top:e[0],left:e[1]}):(c.dateOrien(b,c.valCell),$(window).on("resize",function(){c.dateOrien(b,c.valCell)}))),$(document).on("mouseup",function(a){if(a.stopPropagation(),"#jedatebox"==jet.boxelem){var b=$(jet.boxelem);b&&"none"!==b.css("display")&&c.dateClose(),$("#jedatetipscon").length>0&&$("#jedatetipscon").remove(),delete c.areaStart,delete c.areaEnd,c.areaVal=[]}}),$(jet.boxelem).on("mouseup",function(a){a.stopPropagation()})},jedfn.clickYM=function(a,b){var t,c=this,d=c.maincon(".ymsbox",0),e=c.valCell,f=d.find(".yprev"),g=d.find(".ynext"),h=c.maincon(".daybox",0),i=jet.isBool(a.isShow),j=h.find(".yprev"),k=h.find(".ynext"),l=h.find(".mprev"),m=h.find(".mnext"),n=jet.mlen(c.format),o=2==n,p=1==n,q=["actdate","contain"],r=new Date,s=function(){var b=c.maincon(".ymsbox",1).find(".ymcon"),d=b.find("td");d.on("click",function(){var b=$(this),e=b.attr("je-val");b.hasClass("disabled")||(0==a.range?(d.removeClass(q[0]),b.addClass(q[0]),c.maincon(".ymsbox",0).attr("data-val",b.text())):c.areaStart&&void 0==c.areaEnd?(b.addClass(q[0]),c.areaEnd=!0,c.areaVal.push(e),d.each(function(){var g,a=$(this),b=a.attr("je-val").replace(gr,""),d=[c.areaVal[0].replace(gr,""),c.areaVal[1].replace(gr,"")],e=Math.min.apply(null,d),f=Math.max.apply(null,d);a.hasClass("other")||(g=parseInt(b)>parseInt(e)&&parseInt(b)<parseInt(f),g&&a.addClass(q[1]))})):c.areaStart&&c.areaEnd&&(c.delAreaAttr(),d.removeClass(q[0]).removeClass(q[1]),b.addClass(q[0]),c.areaVal.push(e),c.areaStart=!0))})};o||p?(s(),$.each([f,g],function(d,f){f.on("click",function(){var l,m,n,g=$(this),h=r.getMonth()+1,i=parseInt(g.parent().attr("min")),j=parseInt(g.parent().attr("max")),k=p?0==d?i:j:0==d?--i:++j;c.renderHtml(k,h,null,a,b),0==a.range&&(l=p?{YYYY:k}:{YYYY:k,MM:h},m=c.parseValue(l),n={YYYY:k,MM:h,DD:r.getDate(),hh:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds()},$.isFunction(a.toggle)&&a.toggle(e,m,n))})})):($.each([j,k],function(d,f){f.on("click",function(f){var g,h,i,j,k,l,m;f.stopPropagation(),g=jet.reMatch($(this).parent().attr("je-ym")),h=parseInt(g[0]),i=parseInt(g[1]),j=0==d?--h:++h,c.renderHtml(j,i,null,a,b),0==a.range&&(k=c.getValue({})[0],l=c.parseValue({YYYY:j,MM:i,DD:k.DD}),m={YYYY:j,MM:i,DD:r.getDate(),hh:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds()},$.isFunction(a.toggle)&&a.toggle({elem:e,val:l,date:m}))})}),$.each([l,m],function(d,f){f.on("click",function(f){var g,h,i,j,k,l,m,n,o,p;f.stopPropagation(),g=jet.reMatch($(this).parent().attr("je-ym")),h=parseInt(g[0]),i=parseInt(g[1]),j=jet.prevMonth(h,i),k=jet.nextMonth(h,i),0==d?c.renderHtml(j.y,j.m,null,a,b):c.renderHtml(k.y,k.m,null,a,b),l=0==d?j.y:k.y,m=0==d?j.m:k.m,0==a.range&&(n=c.getValue({})[0],o=c.parseValue({YYYY:l,MM:m,DD:n.DD}),p={YYYY:l,MM:m,DD:r.getDate(),hh:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds()},$.isFunction(a.toggle)&&a.toggle({elem:e,val:o,date:p}))})})),n>=3&&6>=n&&(c.maincon(".daybox",0).on("click",".ymbtn",function(){b.children(".ymsbox").show(),b.children(".daybox,.mainfoot").hide(),i&&c.dateOrien(b,c.valCell)}),t=function(){var d=b.find(".ymcon"),e=d.find("td");e.on("click",function(){var d=$(this),f=jet.reMatch(d.attr("je-val"));e.removeClass(q[0]),d.addClass(q[0]),b.children(".jedate-contfix").show(),b.children(".jedate-jedatewrap").hide(),c.renderHtml(f[0],f[1],null,a,b)})},$.each([f,g],function(d,e){e.on("click",function(){var f=r.getMonth()+1,g=parseInt($(this).parent().attr("min")),h=parseInt($(this).parent().attr("max")),j=p?0==d?g:h:0==d?--g:++h;c.eachYM(j,f,a,b,".jedate-contfix"),t(),i&&c.dateOrien(b,c.valCell),$.isFunction(a.toggle)&&a.toggle()})}),d.on("click",".close",function(){b.children(".daybox,.mainfoot").show(),b.children(".ymsbox").hide(),i&&c.dateOrien(b,c.valCell)}),t())},jedfn.gethmsVal=function(a){var b={};return a.find(".timecon em").each(function(a){var c=$(this).attr("disabled");void 0==c&&(b[matArr[3+a]]=$(this).text())}),b},jedfn.clickDays=function(a,b){var c=this,d=c.valCell,e="je-val",f=b.find(".daysul"),g=f.find("td"),h=a.language||config.language,i=["actdate","contain"];g.on("click",function(f){var m,n,h=$(this),j=h.attr(e),k=jet.reMatch(j),l=[];h.hasClass("disabled")||(f.stopPropagation(),m=function(){var f,j,m,n;$.each(k,function(a,b){l.push(parseInt(b))}),$(b.attr(jefix)).length>0?c.renderHtml(l[0],l[1],l[2],a,b):jet.isBool(a.onClose)?(g.removeClass(i[0]),h.addClass(i[0])):(f={},j=jet.reMatch(h.attr(e)),$.each(j,function(a,b){f[matArr[a]]=b}),m=/\hh/.test(c.format)?$.extend(f,c.gethmsVal(b)):f,n=c.setValue(m),c.dateClose(),($.isFunction(a.okfun)||null!=a.okfun)&&a.okfun&&a.okfun({elem:d,val:n,date:m}))},n=function(){c.areaStart&&void 0==c.areaEnd?(h.addClass(i[0]),c.areaEnd=!0,c.areaVal.push(j),g.each(function(){var g,a=$(this),b=a.attr("je-val").replace(gr,""),d=[c.areaVal[0].replace(gr,""),c.areaVal[1].replace(gr,"")],e=Math.min.apply(null,d),f=Math.max.apply(null,d);a.hasClass("other")||a.hasClass("disabled")||(g=parseInt(b)>parseInt(e)&&parseInt(b)<parseInt(f),g&&a.addClass(i[1]))})):c.areaStart&&c.areaEnd&&(c.delAreaAttr(),g.removeClass(i[0]).removeClass(i[1]),h.addClass(i[0]),c.areaVal.push(j),c.areaStart=!0)},0==a.range?m():n())}),a.festival&&"cn"==h.name&&(b.addClass("grid"),g.on("mouseover",function(){var b,d,f,g,h,i,j,k,l;$("#jedatetipscon").length>0&&$("#jedatetipscon").remove(),b=$(this),d=jet.reMatch(b.attr(e)),f=$("<div/>",{id:"jedatetipscon","class":"jedatetipscon"}),g=c.jeLunar(parseInt(d[0]),parseInt(d[1])-1,parseInt(d[2])),h="<p>"+g.solarYear+"年"+g.solarMonth+"月"+g.solarDate+"日 "+g.inWeekDays+'</p><p class="red">农历：'+g.shengxiao+"年 "+g.lnongMonth+"月"+g.lnongDate+"</p><p>"+g.ganzhiYear+"年 "+g.ganzhiMonth+"月 "+g.ganzhiDate+"日</p>",i=""!=(g.solarFestival||g.lunarFestival)?'<p class="red">'+("节日："+g.solarFestival+g.lunarFestival)+"</p>":"",j=""!=g.jieqi?'<p class="red">'+(""!=g.jieqi?"节气："+g.jieqi:"")+"</p>":"",k=""!=(g.solarFestival||g.lunarFestival||g.jieqi)?i+j:"",$("body").append(f),f.html(h+k),l=jedfn.lunarOrien(f,b),f.css({"z-index":void 0==a.zIndex?10005:a.zIndex+5,top:l.top,left:l.left,position:"absolute",display:"block"})}).on("mouseout",function(){$("#jedatetipscon").remove()}))},jedfn.clickBtn=function(a,b){var c=this,d=c.valCell,e=jet.isBool(a.isShow),f=7==jet.mlen(c.format),h=(jet.isBool(a.multiPane),2==jet.mlen(c.format)),i=1==jet.mlen(c.format);b.on("click",".clear",function(f){var g,h,i,j;f.stopPropagation(),e?(g=jet.isValHtml(c.valCell)?"val":"text",h=c.valCell[g](),i=c.setValue(""),c.dateClose(),""!=h&&(jet.isBool(a.clearRestore)&&(jet.minDate=a.startMin||jet.minDate,jet.maxDate=a.startMax||jet.maxDate),($.isFunction(a.clearfun)||null!=a.clearfun)&&a.clearfun({elem:d,val:i}))):(j=c.getValue({}),c.renderHtml(j[0].YYYY,j[0].MM,j[0].DD,a,b)),0!=a.range&&c.delAreaAttr()}),0!=a.range&&b.find(".today").hide(),b.on("click",".today",function(){var b=new Date,e={YYYY:b.getFullYear(),MM:jet.digit(b.getMonth()+1),DD:jet.digit(b.getDate()),hh:jet.digit(b.getHours()),mm:jet.digit(b.getMinutes()),ss:jet.digit(b.getSeconds())},f=c.setValue(e);c.dateClose(),($.isFunction(a.okfun)||null!=a.okfun)&&a.okfun({elem:d,val:f,date:e})}),b.on("click",".setok",function(g){var k,l,m,j,n,o,p,q,r,s,t,u;g.stopPropagation(),j=new Date,0==a.range?(n=c.gethmsVal(b),o=function(){var f,a={},d=h||i?".ymcon":".daysul",e=jet.reMatch(b.find(d).find("td.actdate").attr("je-val"));return $.each(e,function(b,c){a[matArr[b]]=c}),f=/\hh/.test(c.format)?$.extend(a,n):a},k=f?n:o()):(p={},q=[],r=[[],[]],b.find(".timecon em").each(function(a){var b=$(this).attr("disabled");void 0==b&&r[a>2?1:0].push($(this).text())}),7==jet.mlen(c.format)?0!=a.range&&$.each(r,function(a,b){var c=b.join("");p[c]=b.join(":"),q.push(c)}):$.each(c.areaVal,function(a,b){var d=b+(/\hh/.test(c.format)?" "+r[a].join(":"):""),e=d.replace(/\s|-|:/g,"");p[e]=d,q.push(e)}),s=Math.min.apply(null,q),t=Math.max.apply(null,q),k=p[s]+a.range+p[t]),e?(l=c.setValue(k),c.dateClose()):l=c.setValue(k,c.format,!1),0==a.range?m={YYYY:k.YYYY||j.getFullYear(),MM:jet.digit(k.MM||j.getMonth()+1),DD:jet.digit(k.DD||j.getDate()),hh:jet.digit(k.hh||j.getHours()),mm:jet.digit(k.mm||j.getMinutes()),ss:jet.digit(k.ss||j.getSeconds())}:(u=c.setValue(k,c.format,!1),m=[],$.each(new Array(2),function(b){var e={},f=jet.reMatch(u.split(a.range)[b]);$.each(jet.reMatch(c.format),function(a,b){e[b]=f[a]}),m.push(e)})),($.isFunction(a.okfun)||null!=a.okfun)&&a.okfun({elem:d,val:l,date:m})})},jedfn.clickTime=function(a,b){var d,c=this;/\hh/.test(c.format)&&(d=c.maincon(".timebox",1).find("ul"),d.on("click","li",function(){var a=$(this),e=a.parent().attr("idx"),f=a.text();a.hasClass("disabled")||(a.addClass("action").siblings().removeClass("action"),b.find(".timecon em").eq(e).text(f),c.locateScroll(d))}))},jedfn.locateScroll=function(a){$.each(a,function(){var a=$(this),b=a.find(".action"),c=b.length>0?b[0].offsetTop-114:0;a[0].scrollTop=c})},jedfn.lunarOrien=function(a,b,c){var d,e,f,g,h=b[0].getBoundingClientRect();return e=h.right+a[0].offsetWidth/1.5>=jet.docArea(1)?h.right-a[0].offsetWidth:h.left+(c?0:jet.docScroll(1)),d=h.bottom+a[0].offsetHeight/1<=jet.docArea()?h.bottom-1:h.top>a[0].offsetHeight/1.5?h.top-a[0].offsetHeight-1:jet.docArea()-a[0].offsetHeight,f=Math.max(d+(c?0:jet.docScroll())+1,1)+"px",g=e+"px",{top:f,left:g}},jedfn.dateOrien=function(a,b,c){var g,h,j,k,d=this,i=d.fixed?b[0].getBoundingClientRect():a[0].getBoundingClientRect(),f=i.left,e=i.bottom;d.fixed?(j=a.outerWidth(),k=a.outerHeight(),f+j>jet.docArea(!0)&&(f=jet.docArea(!0)-j),e+k>jet.docArea()&&(e=i.top>k?i.top-k-2:jet.docArea()-k-1),g=Math.max(e+(c?0:jet.docScroll())+1,1)+"px",h=f+"px"):(g="50%",h="50%",a.css({"margin-top":-(i.height/2),"margin-left":-(i.width/2)})),a.css({top:g,left:h})},jedfn.tips=function(a,b){var c=this,d=$(jet.boxelem).find(".jedate-tips");d.html("").html(a||"").show(),clearTimeout(c.tipTime),c.tipTime=setTimeout(function(){d.html("").hide()},1e3*(b||2.5))},jedfn.dateClose=function(){0==$($(jet.boxelem).attr(jefix)).length&&$(jet.boxelem).remove()},jedfn.dateContrast=function(a,b){var c=a.split("-"),d=b.split("-"),e=parseInt(c[0]+""+jet.digit(parseInt(c[1])-1)+jet.digit(c[2]||"01")),f=parseInt(d[0]+""+jet.digit(parseInt(d[1])-1)+jet.digit(c[2]||"01"));return e>=f?!1:!0},jedfn.delAreaAttr=function(){delete this.areaStart,delete this.areaEnd,this.areaVal=[]},jedfn.jeLunar=function(a,b,c){function o(a){var w,b=function(a,b){var c=new Date(31556925974.7*(a-1900)+6e4*e[b]+Date.UTC(1900,0,6,2,5));return c.getUTCDate()},c=function(a){var b,c=348;for(b=32768;b>8;b>>=1)c+=d[a-1900]&b?1:0;return c+p(a)},o=function(a){return f.charAt(a%10)+g.charAt(a%12)},p=function(a){var b=q(a)?65536&d[a-1900]?30:29:0;return b},q=function(a){return 15&d[a-1900]},r=function(a,b){return d[a-1900]&65536>>b?30:29},s=function(a){var b,d=0,e=0,f=new Date(1900,0,31),g=(a-f)/864e5;for(this.dayCyl=g+40,this.monCyl=14,b=1900;2050>b&&g>0;b++)e=c(b),g-=e,this.monCyl+=12;for(0>g&&(g+=e,b--,this.monCyl-=12),this.year=b,this.yearCyl=b-1864,d=q(b),this.isLeap=!1,b=1;13>b&&g>0;b++)d>0&&b==d+1&&0==this.isLeap?(--b,this.isLeap=!0,e=p(this.year)):e=r(this.year,b),1==this.isLeap&&b==d+1&&(this.isLeap=!1),g-=e,0==this.isLeap&&this.monCyl++;0==g&&d>0&&b==d+1&&(this.isLeap?this.isLeap=!1:(this.isLeap=!0,--b,--this.monCyl)),0>g&&(g+=e,--b,--this.monCyl),this.month=b,this.day=g+1},t=function(a){return 10>a?"0"+(0|a):a},u=function(a,b){var c=a;return b.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g,function(a){switch(a){case"yyyy":var b="000"+c.getFullYear();return b.substring(b.length-4);case"dd":return t(c.getDate());case"d":return c.getDate().toString();case"MM":return t(c.getMonth()+1);case"M":return c.getMonth()+1}})},v=function(a,b){var c;switch(b){case 10:c="初十";break;case 20:c="二十";break;case 30:c="三十";break;default:c=k.charAt(Math.floor(b/10)),c+=j.charAt(b%10)}return c};this.isToday=!1,this.isRestDay=!1,this.solarYear=u(a,"yyyy"),this.solarMonth=u(a,"M"),this.solarDate=u(a,"d"),this.solarWeekDay=a.getDay(),this.inWeekDays="星期"+j.charAt(this.solarWeekDay),w=new s(a),this.lunarYear=w.year,this.shengxiao=h.charAt((this.lunarYear-4)%12),this.lunarMonth=w.month,this.lunarIsLeapMonth=w.isLeap,this.lnongMonth=this.lunarIsLeapMonth?"闰"+l[w.month-1]:l[w.month-1],this.lunarDate=w.day,this.showInLunar=this.lnongDate=v(this.lunarMonth,this.lunarDate),1==this.lunarDate&&(this.showInLunar=this.lnongMonth+"月"),this.ganzhiYear=o(w.yearCyl),this.ganzhiMonth=o(w.monCyl),this.ganzhiDate=o(w.dayCyl++),this.jieqi="",this.restDays=0,b(this.solarYear,2*(this.solarMonth-1))==u(a,"d")&&(this.showInLunar=this.jieqi=i[2*(this.solarMonth-1)]),b(this.solarYear,2*(this.solarMonth-1)+1)==u(a,"d")&&(this.showInLunar=this.jieqi=i[2*(this.solarMonth-1)+1]),"清明"==this.showInLunar&&(this.showInLunar="清明节",this.restDays=1),this.solarFestival=m[u(a,"MM")+u(a,"dd")],"undefined"==typeof this.solarFestival?this.solarFestival="":/\*(\d)/.test(this.solarFestival)&&(this.restDays=parseInt(RegExp.$1),this.solarFestival=this.solarFestival.replace(/\*\d/,"")),this.showInLunar=""==this.solarFestival?this.showInLunar:this.solarFestival,this.lunarFestival=n[this.lunarIsLeapMonth?"00":t(this.lunarMonth)+t(this.lunarDate)],"undefined"==typeof this.lunarFestival?this.lunarFestival="":/\*(\d)/.test(this.lunarFestival)&&(this.restDays=this.restDays>parseInt(RegExp.$1)?this.restDays:parseInt(RegExp.$1),this.lunarFestival=this.lunarFestival.replace(/\*\d/,"")),12==this.lunarMonth&&this.lunarDate==r(this.lunarYear,12)&&(this.lunarFestival=n["0100"],this.restDays=1),this.showInLunar=""==this.lunarFestival?this.showInLunar:this.lunarFestival}var d=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448],e=[0,21208,43467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],f="甲乙丙丁戊己庚辛壬癸",g="子丑寅卯辰巳午未申酉戌亥",h="鼠牛虎兔龙蛇马羊猴鸡狗猪",i=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],j="日一二三四五六七八九十",k="初十廿卅",l=["正","二","三","四","五","六","七","八","九","十","十一","腊"],m={"0101":"*1元旦节","0202":"湿地日","0214":"情人节","0308":"妇女节","0312":"植树节","0315":"消费者权益日","0401":"愚人节","0422":"地球日","0501":"*1劳动节","0504":"青年节","0512":"护士节","0518":"博物馆日","0520":"母亲节","0601":"儿童节","0623":"奥林匹克日","0630":"父亲节","0701":"建党节","0801":"建军节","0903":"抗战胜利日","0910":"教师节",1001:"*3国庆节",1201:"艾滋病日",1224:"平安夜",1225:"圣诞节"},n={"0100":"除夕","0101":"*2春节","0115":"元宵节","0505":"*1端午节","0707":"七夕节","0715":"中元节","0815":"*1中秋节","0909":"*1重阳节",1015:"下元节",1208:"腊八节",1223:"小年"};
    return new o(new Date(a,b,c))},$.dateVer="6.0.2",$.nowDate=function(a,b){return b=b||"YYYY-MM-DD hh:mm:ss","number"==typeof a&&(a={DD:a}),jet.GetDateTime(a,b)},$.timeStampDate=function(a,b){var c,d,e,f,g,h;if(b=b||"YYYY-MM-DD hh:mm:ss",c=/^(-)?\d{1,10}$/.test(a)||/^(-)?\d{1,13}$/.test(a),/^[1-9]*[1-9][0-9]*$/.test(a)&&c){if(d=parseInt(a),/^(-)?\d{1,10}$/.test(d))d=1e3*d;else if(/^(-)?\d{1,13}$/.test(d))d=1e3*d;else{if(!/^(-)?\d{1,14}$/.test(d))return alert("时间戳格式不正确"),void 0;d=100*d}return e=new Date(d),jet.parse({YYYY:e.getFullYear(),MM:jet.digit(e.getMonth()+1),DD:jet.digit(e.getDate()),hh:jet.digit(e.getHours()),mm:jet.digit(e.getMinutes()),ss:jet.digit(e.getSeconds())},b)}return f=jet.reMatch(a),g=new Date(f[0],parseInt(f[1])-1,f[2],f[3]||0,f[4]||0,f[5]||0),h=Math.round(g.getTime()/1e3),h},$.splitDate=function(a){var b=a.match(/\w+|d+/g);return{YYYY:parseInt(b[0]),MM:parseInt(b[1])||0,DD:parseInt(b[2])||0,hh:parseInt(b[3])||0,mm:parseInt(b[4])||0,ss:parseInt(b[5])||0}},$.getLunar=function(a,b){var d,e,f,c=this;return b=b||"YYYY-MM-DD hh:mm:ss",/YYYY-MM-DD/g.test(jet.isparmat(b))?(d=a.substr(0,4).replace(/^(\d{4})/g,"$1,")+a.substr(4).replace(/(.{2})/g,"$1,"),e=jet.isNum(a)?jet.reMatch(d):jet.reMatch(a),f=c.jeLunar(e[0],e[1]-1,e[2]),{nMonth:f.lnongMonth,nDays:f.lnongDate,yYear:parseInt(f.solarYear),yMonth:parseInt(f.solarMonth),yDays:parseInt(f.solarDate),cWeek:f.inWeekDays,nWeek:f.solarWeekDay}):void 0},jeDate):(alert("在引用jquery.jedate.js之前，先引用jQuery，否则无法使用 jeDate"),void 0)});
//kkpger
var kkpager={pagerid:"kkpager",mode:"link",pno:1,total:1,totalRecords:0,isShowFirstPageBtn:true,isShowLastPageBtn:true,isShowPrePageBtn:true,isShowNextPageBtn:true,isShowTotalPage:true,isShowCurrPage:true,isShowTotalRecords:true,isGoPage:true,isWrapedPageBtns:true,isWrapedInfoTextAndGoPageBtn:true,hrefFormer:"",hrefLatter:"",gopageWrapId:"kkpager_gopage_wrap",gopageButtonId:"kkpager_btn_go",gopageTextboxId:"kkpager_btn_go_input",lang:{firstPageText:"首页",firstPageTipText:"首页",lastPageText:"尾页",lastPageTipText:"尾页",prePageText:"上一页",prePageTipText:"上一页",nextPageText:"下一页",nextPageTipText:"下一页",totalPageBeforeText:"共",totalPageAfterText:"页",currPageBeforeText:"当前第",currPageAfterText:"页",totalInfoSplitStr:"/",totalRecordsBeforeText:"共",totalRecordsAfterText:"条数据",gopageBeforeText:"&nbsp;转到",gopageButtonOkText:"确定",gopageAfterText:"页",buttonTipBeforeText:"第",buttonTipAfterText:"页"},getLink:function(n){if(n==1){return this.hrefFormer+this.hrefLatter}return this.hrefFormer+"_"+n+this.hrefLatter},click:function(n){return false},getHref:function(n){return"#"},focus_gopage:function(){var btnGo=$("#"+this.gopageButtonId);$("#"+this.gopageTextboxId).attr("hideFocus",true);btnGo.show();btnGo.css("left","10px");$("#"+this.gopageTextboxId).addClass("focus");btnGo.animate({left:"+=30"},50)},blur_gopage:function(){var _this=this;setTimeout(function(){var btnGo=$("#"+_this.gopageButtonId);btnGo.animate({left:"-=25"},100,function(){btnGo.hide();$("#"+_this.gopageTextboxId).removeClass("focus")})},400)},keypress_gopage:function(){var event=arguments[0]||window.event;var code=event.keyCode||event.charCode;if(code==8){return true}if(code==13){kkpager.gopage();return false}if(event.ctrlKey&&(code==99||code==118)){return true}if(code<48||code>57){return false}return true},gopage:function(){var str_page=$("#"+this.gopageTextboxId).val();if(isNaN(str_page)){$("#"+this.gopageTextboxId).val(this.next);return}var n=parseInt(str_page);if(n<1){n=1}if(n>this.total){n=this.total}if(this.mode=="click"){this._clickHandler(n)}else{window.location=this.getLink(n)}},selectPage:function(n){this._config["pno"]=n;this.generPageHtml(this._config,true)},generPageHtml:function(config,enforceInit){if(enforceInit||!this.inited){this.init(config)}var str_first="",str_prv="",str_next="",str_last="";if(this.isShowFirstPageBtn){if(this.hasPrv){str_first="<a "+this._getHandlerStr(1)+' title="'+(this.lang.firstPageTipText||this.lang.firstPageText)+'">'+this.lang.firstPageText+"</a>"}else{str_first='<span class="disabled">'+this.lang.firstPageText+"</span>"}}if(this.isShowPrePageBtn){if(this.hasPrv){str_prv="<a "+this._getHandlerStr(this.prv)+' title="'+(this.lang.prePageTipText||this.lang.prePageText)+'">'+this.lang.prePageText+"</a>"}else{str_prv='<span class="disabled">'+this.lang.prePageText+"</span>"}}if(this.isShowNextPageBtn){if(this.hasNext){str_next="<a "+this._getHandlerStr(this.next)+' title="'+(this.lang.nextPageTipText||this.lang.nextPageText)+'">'+this.lang.nextPageText+"</a>"}else{str_next='<span class="disabled">'+this.lang.nextPageText+"</span>"}}if(this.isShowLastPageBtn){if(this.hasNext){str_last="<a "+this._getHandlerStr(this.total)+' title="'+(this.lang.lastPageTipText||this.lang.lastPageText)+'">'+this.lang.lastPageText+"</a>"}else{str_last='<span class="disabled">'+this.lang.lastPageText+"</span>"}}var str="";var dot='<span class="spanDot">...</span>';var total_info='<span class="totalText">';var total_info_splitstr='<span class="totalInfoSplitStr">'+this.lang.totalInfoSplitStr+"</span>";if(this.isShowCurrPage){total_info+=this.lang.currPageBeforeText+'<span class="currPageNum">'+this.pno+"</span>"+this.lang.currPageAfterText;if(this.isShowTotalPage){total_info+=total_info_splitstr;total_info+=this.lang.totalPageBeforeText+'<span class="totalPageNum">'+this.total+"</span>"+this.lang.totalPageAfterText}else{if(this.isShowTotalRecords){total_info+=total_info_splitstr;total_info+=this.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.totalRecords+"</span>"+this.lang.totalRecordsAfterText}}}else{if(this.isShowTotalPage){total_info+=this.lang.totalPageBeforeText+'<span class="totalPageNum">'+this.total+"</span>"+this.lang.totalPageAfterText;if(this.isShowTotalRecords){total_info+=total_info_splitstr;total_info+=this.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.totalRecords+"</span>"+this.lang.totalRecordsAfterText}}else{if(this.isShowTotalRecords){total_info+=this.lang.totalRecordsBeforeText+'<span class="totalRecordNum">'+this.totalRecords+"</span>"+this.lang.totalRecordsAfterText}}}total_info+="</span>";var gopage_info="";if(this.isGoPage){gopage_info='<span class="goPageBox">'+this.lang.gopageBeforeText+'<span class="kkpager_gopage_wrap" id="'+this.gopageWrapId+'">'+'<input type="button" class="kkpager_btn_go" id="'+this.gopageButtonId+'" onclick="kkpager.gopage()" value="'+this.lang.gopageButtonOkText+'" />'+'<input type="text" class="kkpager_btn_go_input" id="'+this.gopageTextboxId+'" onfocus="kkpager.focus_gopage()"  onkeypress="return kkpager.keypress_gopage(event);"   onblur="kkpager.blur_gopage()" value="'+this.next+'" /></span>'+this.lang.gopageAfterText+"</span>"
}if(this.total<=8){for(var i=1;i<=this.total;i++){if(this.pno==i){str+='<span class="curr">'+i+"</span>"}else{str+="<a "+this._getHandlerStr(i)+' title="'+this.lang.buttonTipBeforeText+i+this.lang.buttonTipAfterText+'">'+i+"</a>"}}}else{if(this.pno<=5){for(var i=1;i<=7;i++){if(this.pno==i){str+='<span class="curr">'+i+"</span>"}else{str+="<a "+this._getHandlerStr(i)+' title="'+this.lang.buttonTipBeforeText+i+this.lang.buttonTipAfterText+'">'+i+"</a>"}}str+=dot}else{str+="<a "+this._getHandlerStr(1)+' title="'+this.lang.buttonTipBeforeText+"1"+this.lang.buttonTipAfterText+'">1</a>';str+="<a "+this._getHandlerStr(2)+' title="'+this.lang.buttonTipBeforeText+"2"+this.lang.buttonTipAfterText+'">2</a>';str+=dot;var begin=this.pno-2;var end=this.pno+2;if(end>this.total){end=this.total;begin=end-4;if(this.pno-begin<2){begin=begin-1}}else{if(end+1==this.total){end=this.total}}for(var i=begin;i<=end;i++){if(this.pno==i){str+='<span class="curr">'+i+"</span>"}else{str+="<a "+this._getHandlerStr(i)+' title="'+this.lang.buttonTipBeforeText+i+this.lang.buttonTipAfterText+'">'+i+"</a>"}}if(end!=this.total){str+=dot}}}var pagerHtml="<div>";if(this.isWrapedPageBtns){pagerHtml+='<span class="pageBtnWrap">'+str_first+str_prv+str+str_next+str_last+"</span>"}else{pagerHtml+=str_first+str_prv+str+str_next+str_last}if(this.isWrapedInfoTextAndGoPageBtn){pagerHtml+='<span class="infoTextAndGoPageBtnWrap">'+total_info+gopage_info+"</span>"}else{pagerHtml+=total_info+gopage_info}pagerHtml+='</div><div style="clear:both;"></div>';$("#"+this.pagerid).html(pagerHtml)},init:function(config){this.pno=isNaN(config.pno)?1:parseInt(config.pno);this.total=isNaN(config.total)?1:parseInt(config.total);this.totalRecords=isNaN(config.totalRecords)?0:parseInt(config.totalRecords);if(config.pagerid){this.pagerid=config.pagerid}if(config.mode){this.mode=config.mode}if(config.gopageWrapId){this.gopageWrapId=config.gopageWrapId}if(config.gopageButtonId){this.gopageButtonId=config.gopageButtonId}if(config.gopageTextboxId){this.gopageTextboxId=config.gopageTextboxId}if(config.isShowFirstPageBtn!=undefined){this.isShowFirstPageBtn=config.isShowFirstPageBtn}if(config.isShowLastPageBtn!=undefined){this.isShowLastPageBtn=config.isShowLastPageBtn}if(config.isShowPrePageBtn!=undefined){this.isShowPrePageBtn=config.isShowPrePageBtn}if(config.isShowNextPageBtn!=undefined){this.isShowNextPageBtn=config.isShowNextPageBtn}if(config.isShowTotalPage!=undefined){this.isShowTotalPage=config.isShowTotalPage}if(config.isShowCurrPage!=undefined){this.isShowCurrPage=config.isShowCurrPage}if(config.isShowTotalRecords!=undefined){this.isShowTotalRecords=config.isShowTotalRecords}if(config.isWrapedPageBtns){this.isWrapedPageBtns=config.isWrapedPageBtns}if(config.isWrapedInfoTextAndGoPageBtn){this.isWrapedInfoTextAndGoPageBtn=config.isWrapedInfoTextAndGoPageBtn}if(config.isGoPage!=undefined){this.isGoPage=config.isGoPage}if(config.lang){for(var key in config.lang){this.lang[key]=config.lang[key]}}this.hrefFormer=config.hrefFormer||"";this.hrefLatter=config.hrefLatter||"";if(config.getLink&&typeof(config.getLink)=="function"){this.getLink=config.getLink}if(config.click&&typeof(config.click)=="function"){this.click=config.click}if(config.getHref&&typeof(config.getHref)=="function"){this.getHref=config.getHref}this._config=config;if(this.pno<1){this.pno=1}this.total=(this.total<=1)?1:this.total;if(this.pno>this.total){this.pno=this.total}this.prv=(this.pno<=2)?1:(this.pno-1);this.next=(this.pno>=this.total-1)?this.total:(this.pno+1);this.hasPrv=(this.pno>1);this.hasNext=(this.pno<this.total);this.inited=true},_getHandlerStr:function(n){if(this.mode=="click"){return'href="'+this.getHref(n)+'" onclick="return kkpager._clickHandler('+n+')"'}return'href="'+this.getLink(n)+'"'},_clickHandler:function(n){var res=false;if(this.click&&typeof this.click=="function"){res=this.click.call(this,n)||false}return res}};
// popover
!function(a,b,c){"use strict";function d(b,c){this.$element=a(b),c&&("string"===a.type(c.delay)||"number"===a.type(c.delay))&&(c.delay={show:c.delay,hide:c.delay}),this.options=a.extend({},h,c),this._defaults=h,this._name=e,this._targetclick=!1,this.init(),i.push(this.$element)}var e="webuiPopover",f="webui-popover",g="webui.popover",h={placement:"auto",width:"auto",height:"auto",trigger:"click",style:"",delay:{show:null,hide:null},async:{before:null,success:null},cache:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",animation:null,template:'<div class="webui-popover"><div class="arrow"></div><div class="webui-popover-inner"><a href="#" class="close">x</a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:!1,dismissible:!0,onShow:null,onHide:null,abortXHR:!0,autoHide:!1,offsetTop:0,offsetLeft:0},i=[],j=a('<div class="webui-popover-backdrop"></div>'),k=0,l=!1,m=-2e3,n=a(c),o=function(a,b){return isNaN(a)?b||0:Number(a)};d.prototype={init:function(){"click"===this.getTrigger()?this.$element.off("click touchend").on("click touchend",a.proxy(this.toggle,this)):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave click").on("mouseenter",a.proxy(this.mouseenterHandler,this)).on("mouseleave",a.proxy(this.mouseleaveHandler,this)),this._poped=!1,this._inited=!0,this._opened=!1,this._idSeed=k,this.options.backdrop&&j.appendTo(c.body).hide(),k++,"sticky"===this.getTrigger()&&this.show()},destroy:function(){for(var a=-1,b=0;b<i.length;b++)if(i[b]===this.$element){a=b;break}i.splice(a,1),this.hide(),this.$element.data("plugin_"+e,null),"click"===this.getTrigger()?this.$element.off("click"):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave"),this.$target&&this.$target.remove()},hide:function(b,c){if((b||"sticky"!==this.getTrigger())&&this._opened){c&&(c.preventDefault(),c.stopPropagation()),this.xhr&&this.options.abortXHR===!0&&(this.xhr.abort(),this.xhr=null);var d=a.Event("hide."+g);if(this.$element.trigger(d,[this.$target]),this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var e=this;setTimeout(function(){e.$target.hide()},300)}this.options.backdrop&&j.hide(),this._opened=!1,this.$element.trigger("hidden."+g,[this.$target]),this.options.onHide&&this.options.onHide(this.$target)}},resetAutoHide:function(){var a=this,b=a.getAutoHide();b&&(a.autoHideHandler&&clearTimeout(a.autoHideHandler),a.autoHideHandler=setTimeout(function(){a.hide()},b))},toggle:function(a){a&&(a.preventDefault(),a.stopPropagation()),this[this.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){for(var a=0;a<i.length;a++)i[a].webuiPopover("hide");n.trigger("hiddenAll."+g)},show:function(){var a=this.getTarget().removeClass().addClass(f).addClass(this._customTargetClass);this.options.multi||this.hideAll(),this._opened||(this.getCache()&&this._poped&&""!==this.content||(this.content="",this.setTitle(this.getTitle()),this.options.closeable||a.find(".close").off("click").remove(),this.isAsync()?this.setContentASync(this.options.content):this.setContent(this.getContent()),a.show()),this.displayContent(),this.options.onShow&&this.options.onShow(a),this.bindBodyEvents(),this.options.backdrop&&j.show(),this._opened=!0,this.resetAutoHide())},displayContent:function(){var b=this.getElementPosition(),d=this.getTarget().removeClass().addClass(f).addClass(this._customTargetClass),e=this.getContentElement(),h=d[0].offsetWidth,i=d[0].offsetHeight,j="bottom",k=a.Event("show."+g);this.$element.trigger(k,[d]),"auto"!==this.options.width&&d.width(this.options.width),"auto"!==this.options.height&&e.height(this.options.height),this.options.style&&this.$target.addClass(f+"-"+this.options.style),this.options.arrow||d.find(".arrow").remove(),d.detach().css({top:m,left:m,display:"block"}),this.getAnimation()&&d.addClass(this.getAnimation()),d.appendTo(c.body),j=this.getPlacement(b),this.$element.trigger("added."+g),this.initTargetEvents(),this.options.padding||("auto"!==this.options.height&&e.css("height",e.outerHeight()),this.$target.addClass("webui-no-padding")),h=d[0].offsetWidth,i=d[0].offsetHeight;var l=this.getTargetPositin(b,j,h,i);if(this.$target.css(l.position).addClass(j).addClass("in"),"iframe"===this.options.type){var n=d.find("iframe");n.width(d.width()).height(n.parent().height())}if(this.options.arrow||this.$target.css({margin:0}),this.options.arrow){var o=this.$target.find(".arrow");o.removeAttr("style"),l.arrowOffset&&(-1===l.arrowOffset.left||-1===l.arrowOffset.top?o.hide():o.css(l.arrowOffset))}this._poped=!0,this.$element.trigger("shown."+g,[this.$target])},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var b=e+this._idSeed;this.$target=a(this.options.template).attr("id",b).data("trigger-element",this.getTriggerElement()),this._customTargetClass=this.$target.attr("class")!==f?this.$target.attr("class"):null,this.getTriggerElement().attr("data-target",b)}return this.$target},getTitleElement:function(){return this.getTarget().find("."+f+"-title")},getContentElement:function(){return this.$contentElement||(this.$contentElement=this.getTarget().find("."+f+"-content"),console.log(this.$contentElement),this.$contentElement.show()),this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return o(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return o(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var a=this.$element.attr("data-cache");if("undefined"!=typeof a)switch(a.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":return!1}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var a=this.$element.attr("data-delay-show");return"undefined"!=typeof a?a:0===this.options.delay.show?0:this.options.delay.show||100},getHideDelay:function(){var a=this.$element.attr("data-delay-hide");return"undefined"!=typeof a?a:0===this.options.delay.hide?0:this.options.delay.hide||100},getAnimation:function(){var a=this.$element.attr("data-animation");return a||this.options.animation},getHideAnimation:function(){var a=this.getAnimation();return a?a+"-out":"out"},setTitle:function(a){var b=this.getTitleElement();a?b.html(a):b.remove()},hasContent:function(){return this.getContent()},getContent:function(){if(this.getUrl())switch(this.options.type){case"iframe":this.content=a('<iframe frameborder="0"></iframe>').attr("src",this.getUrl());break;case"html":try{this.content=a(this.getUrl()),this.content.is(":visible")||this.content.show()}catch(b){throw new Error("Unable to get popover content. Invalid selector specified.")}}else if(!this.content){var c="";if(c=a.isFunction(this.options.content)?this.options.content.apply(this.$element[0],[this]):this.options.content,this.content=this.$element.attr("data-content")||c,!this.content){var d=this.$element.next();d&&d.hasClass(f+"-content")&&(this.content=d)}}return this.content},setContent:function(a){var b=this.getTarget(),c=this.getContentElement();"string"==typeof a?c.html(a):a instanceof jQuery&&(a.removeClass(f+"-content"),c.html(""),a.appendTo(c)),this.$target=b},isAsync:function(){return"async"===this.options.type},setContentASync:function(b){var c=this;this.xhr||(this.xhr=a.ajax({url:this.getUrl(),type:"GET",cache:this.getCache(),beforeSend:function(a){c.options.async.before&&c.options.async.before(c,a)},success:function(d){c.bindBodyEvents(),c.content=b&&a.isFunction(b)?b.apply(c.$element[0],[d]):d,c.setContent(c.content);var e=c.getContentElement();e.removeAttr("style"),c.displayContent(),c.options.async.success&&c.options.async.success(c,d)},complete:function(){c.xhr=null}}))},bindBodyEvents:function(){this.options.dismissible&&"click"===this.getTrigger()&&!l&&(n.off("keyup.webui-popover").on("keyup.webui-popover",a.proxy(this.escapeHandler,this)),n.off("click.webui-popover touchend.webui-popover").on("click.webui-popover touchend.webui-popover",a.proxy(this.bodyClickHandler,this)))},mouseenterHandler:function(){var a=this;a._timeout&&clearTimeout(a._timeout),a._enterTimeout=setTimeout(function(){a.getTarget().is(":visible")||a.show()},this.getDelayShow())},mouseleaveHandler:function(){var a=this;clearTimeout(a._enterTimeout),a._timeout=setTimeout(function(){a.hide()},this.getHideDelay())},escapeHandler:function(a){27===a.keyCode&&this.hideAll()},bodyClickHandler:function(){l=!0,"click"===this.getTrigger()&&(this._targetclick?this._targetclick=!1:this.hideAll())},targetClickHandler:function(){this._targetclick=!0},initTargetEvents:function(){"hover"===this.getTrigger()&&this.$target.off("mouseenter mouseleave").on("mouseenter",a.proxy(this.mouseenterHandler,this)).on("mouseleave",a.proxy(this.mouseleaveHandler,this)),this.$target.find(".close").off("click").on("click",a.proxy(this.hide,this,!0)),this.$target.off("click.webui-popover").on("click.webui-popover",a.proxy(this.targetClickHandler,this))},getPlacement:function(a){var b,d=c.documentElement,e=c.body,f=d.clientWidth,g=d.clientHeight,h=Math.max(e.scrollTop,d.scrollTop),i=Math.max(e.scrollLeft,d.scrollLeft),j=Math.max(0,a.left-i),k=Math.max(0,a.top-h);b="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement;var l="horizontal"===b,m="vertical"===b,n="auto"===b||l||m;return n?b=f/3>j?g/3>k?l?"right-bottom":"bottom-right":2*g/3>k?m?g/2>=k?"bottom-right":"top-right":"right":l?"right-top":"top-right":2*f/3>j?g/3>k?l?f/2>=j?"right-bottom":"left-bottom":"bottom":2*g/3>k?l?f/2>=j?"right":"left":g/2>=k?"bottom":"top":l?f/2>=j?"right-top":"left-top":"top":g/3>k?l?"left-bottom":"bottom-left":2*g/3>k?m?g/2>=k?"bottom-left":"top-left":"left":l?"left-top":"top-left":"auto-top"===b?b=f/3>j?"top-right":2*f/3>j?"top":"top-left":"auto-bottom"===b?b=f/3>j?"bottom-right":2*f/3>j?"bottom":"bottom-left":"auto-left"===b?b=g/3>k?"left-top":2*g/3>k?"left":"left-bottom":"auto-right"===b&&(b=g/3>k?"right-top":2*g/3>k?"right":"right-bottom"),b},getElementPosition:function(){return a.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTargetPositin:function(a,b,d,e){var f=a,g=c.documentElement,h=c.body,i=g.clientWidth,j=g.clientHeight,k=this.$element.outerWidth(),l=this.$element.outerHeight(),n=Math.max(h.scrollTop,g.scrollTop),o=Math.max(h.scrollLeft,g.scrollLeft),p={},q=null,r=this.options.arrow?20:0,s=10,t=r+s>k?r:0,u=r+s>l?r:0,v=0,w=j+n,x=i+o,y=f.left+f.width/2-t>0,z=f.left+f.width/2+t<x,A=f.top+f.height/2-u>0,B=f.top+f.height/2+u<w;switch(b){case"bottom":p={top:f.top+f.height,left:f.left+f.width/2-d/2};break;case"top":p={top:f.top-e,left:f.left+f.width/2-d/2};break;case"left":p={top:f.top+f.height/2-e/2,left:f.left-d};break;case"right":p={top:f.top+f.height/2-e/2,left:f.left+f.width};break;case"top-right":p={top:f.top-e,left:y?f.left-t:s},q={left:y?Math.min(k,d)/2+t:m};break;case"top-left":v=z?t:-s,p={top:f.top-e,left:f.left-d+f.width+v},q={left:z?d-Math.min(k,d)/2-t:m};break;case"bottom-right":p={top:f.top+f.height,left:y?f.left-t:s},q={left:y?Math.min(k,d)/2+t:m};break;case"bottom-left":v=z?t:-s,p={top:f.top+f.height,left:f.left-d+f.width+v},q={left:z?d-Math.min(k,d)/2-t:m};break;case"right-top":v=B?u:-s,p={top:f.top-e+f.height+v,left:f.left+f.width},q={top:B?e-Math.min(l,e)/2-u:m};break;case"right-bottom":p={top:A?f.top-u:s,left:f.left+f.width},q={top:A?Math.min(l,e)/2+u:m};break;case"left-top":v=B?u:-s,p={top:f.top-e+f.height+v,left:f.left-d},q={top:B?e-Math.min(l,e)/2-u:m};break;case"left-bottom":p={top:A?f.top-u:s,left:f.left-d},q={top:A?Math.min(l,e)/2+u:m}}return p.top+=this.getOffsetTop(),p.left+=this.getOffsetLeft(),{position:p,arrowOffset:q}}},a.fn[e]=function(b,c){var f=[],g=this.each(function(){var g=a.data(this,"plugin_"+e);g?"destroy"===b?g.destroy():"string"==typeof b&&f.push(g[b]()):(b?"string"==typeof b?"destroy"!==b&&(c||(g=new d(this,null),f.push(g[b]()))):"object"==typeof b&&(g=new d(this,b)):g=new d(this,null),a.data(this,"plugin_"+e,g))});return f.length?f:g}}(jQuery,window,document);
//init
$(function(){setTimeout(function(){for(var i=0;i<config.length;i++)try{eval("(init_"+config[i]+"( config[i] )"+")")}catch(e){log(e)}},50)});function init_echart(obj){var selectors=$(".jui-"+obj);if(obj!="echart")selectors=$(obj);for(var i=0;i<selectors.length;i++){var object=getConfig(selectors.eq(i));commonAjax(gdv(object.method,"POST"),localUrl+format_property(object.url),object.method=="GET"?"":objecter(gdv(object.data,{}),"$"),function(data){if(data.status==status_code.OK){var dataTemp;if(validater.empty(data.data))return;if(format_property(object.url).indexOf("paged")>-1)dataTemp=data.data.data;else dataTemp=data.data;var x_value=[];var y_value=[];for(var i=0;i<dataTemp.length;i++){x_value.push(dataTemp[dataTemp.length-i-1][object.x]);y_value.push(dataTemp[dataTemp.length-i-1][object.y])}object.x=x_value;object.y=y_value;if(!validater.empty(object.beforeEchart))object=eval("("+object.beforeEchart+"(object,dataTemp)"+")");echartInit(object);if(!validater.empty(object.success))object.success()}})}}function init_simple_table(obj){var selectors=$('div[type-option\x3d"'+obj+'"],.jui-'+obj);for(var i=0;i<selectors.length;i++);}function manual_init_table(selector){$(selector).tableAdaptor()}function init_table(obj){var selectors=$('div[type-option\x3d"'+obj+'"],.jui-'+obj);if(obj!="table")selectors=$(obj);if(selectors.length>0)selectors.eq(0).tableAdaptor();if(selectors.length>1)console.log("\u76ee\u524d\u5355\u9875\u9762\u4ec5\u652f\u6301\u5355\u4e2a\u8868\u683c\u521d\u59cb\u5316")}function init_time(obj){var selectors=$(".jui-"+obj);for(var i=0;i<selectors.length;i++){var className="time"+getRandom();selectors.eq(i).addClass(className);var param=getDataOptions(selectors.eq(i));if(validater.empty(param))param={};var defaultParam={format:"YYYY-MM-DD hh:mm:ss",isTime:true,festival:false,isinitVal:true,zIndex:99999999};param=$.extend(defaultParam,param);param.dateCell="."+className;$.jeDate("."+className,param);$("."+className).val(DateUtil.addDate(new Date,gdv(param.defaultValue,0)).Format(tom(param.isTime==true,"yyyy-MM-dd hh:mm:ss","yyyy-MM-dd")))}}function init_search_table(obj){var selectors=$('[type-option\x3d"'+obj+'"],.jui-'+obj);for(var i=0;i<selectors.length;i++){var config=getConfig(selectors.eq(i));$(config.submit).data("table_selector",config.table);$(config.submit).data("param",config.param);$(config.submit).data("parent_obj",selectors.eq(i));$(config.submit).click(function(){if($($(this).data("table_selector")).data("searchflag")==true)return;else $($(this).data("table_selector")).data("searchflag",true);var paraent_objs=$(this).data("parent_obj").find("[type-name]");var param=objecter(gdv($(this).data("param"),{}),"$");for(var j=0;j<paraent_objs.length;j++)if(paraent_objs.eq(j).attr("type-value")=="h")param[paraent_objs.eq(j).attr("type-name")]=paraent_objs.eq(j).html();else param[paraent_objs.eq(j).attr("type-name")]=paraent_objs.eq(j).val();if(config.before!=null)if(!eval("("+config.before+"()"+")"))return;$($(this).data("table_selector")).data("params",param);$($(this).data("table_selector")).tableAdaptor()})}}function init_form_submit(obj){var selectors=$('[type-option\x3d"'+obj+'"],.jui-'+obj);for(var i=0;i<selectors.length;i++){var config=getConfig(selectors.eq(i));$(config.submit).data("config",config);$(config.submit).data("parents",selectors.eq(i));validate.init(config.validate,selectors.eq(i));$(config.submit).click(function(){var objthis=this;if($(objthis).attr("cflag")==true)return;else $(objthis).attr("cflag",true);var config=$(this).data("config");var parents_obj=$(this).data("parents").find("[type-name]");if(!validate.submit(config.validate,$(this).data("parents")))return;var param=objecter(gdv(config.param,{}),"$");if(!validater.empty(config.prev_sumit_func))param=eval("("+config.prev_sumit_func+"(param)"+")");for(var j=0;j<parents_obj.length;j++)if(parents_obj.eq(j).attr("type-value")=="h")if(parents_obj.eq(j).attr("type-category")=="date")param[parents_obj.eq(j).attr("type-name")]=new Date(parents_obj.eq(j).html());else param[parents_obj.eq(j).attr("type-name")]=parents_obj.eq(j).html();else if(parents_obj.eq(j).attr("type-category")=="date")param[parents_obj.eq(j).attr("type-name")]=new Date(parents_obj.eq(j).val());else param[parents_obj.eq(j).attr("type-name")]=parents_obj.eq(j).val();if(config.before!=null)if(!eval("("+config.before+"()"+")"))return;commonAjax(gdv(config.method,"POST"),localUrl+format_property(config.url),param,function(data){$(objthis).attr("cflag",false);if(config.success!=null)eval("("+config.success+"(data)"+")")},function(){$(objthis).attr("cflag",false);if(config.error!=null)eval("("+config.error+"()"+")")})})}}function manual_form_submit(object){var config=getConfig(object);$(config.submit).data("config",config);$(config.submit).data("parents",object);validate.init(config.validate,object);$(config.submit).click(function(){var config=$(this).data("config");var parents_obj=$(this).data("parents").find("[type-name]");if(!validate.submit(config.validate,$(this).data("parents")))return;var param=objecter(gdv(config.param,{}),"$");if(!validater.empty(config.prev_sumit_func))param=eval("("+config.prev_sumit_func+"(param)"+")");for(var j=0;j<parents_obj.length;j++)if(parents_obj.eq(j).attr("type-value")=="h")if(parents_obj.eq(j).attr("type-category")=="date")param[parents_obj.eq(j).attr("type-name")]=new Date(parents_obj.eq(j).html());else param[parents_obj.eq(j).attr("type-name")]=parents_obj.eq(j).html();else if(parents_obj.eq(j).attr("type-category")=="date")param[parents_obj.eq(j).attr("type-name")]=new Date(parents_obj.eq(j).val());else param[parents_obj.eq(j).attr("type-name")]=parents_obj.eq(j).val();commonAjax(gdv(config.method,"POST"),localUrl+format_property(config.url),param,function(data){if(config.success!=null)eval("("+config.success+"(data)"+")")},function(){if(config.error!=null)eval("("+config.error+"()"+")")})})}function init_validate(obj){var selectors=$('[type-option\x3d"'+obj+'"],.jui-'+obj);for(var i=0;i<selectors.length;i++){var config=getConfig(selectors.eq(i));validate.init(config,selectors.eq(i));if(!validater.empty(config.submit)){$(config.submit).data("config",config);$(config.submit).data("parents",selectors.eq(i));$(config.submit).click(function(){var config=$(this).data("config");if(!validate.submit(config,$(this).data("parents")))return;if(!validater.empty(config.success))eval("("+config.success+"()"+")")})}}}function init_detail_get(obj){setTimeout(function(){var selectors=$('[type-option\x3d"'+obj+'"],.jui-'+obj);if(obj!="detail_get")selectors=$(obj);for(var i=0;i<selectors.length;i++){var config=getConfig(selectors.eq(i));var childs=selectors.eq(i).find("[type-name]");getAjax(localUrl+format_property(config.url),function(data){if(data.status==status_code.OK)for(var j=0;j<childs.length;j++)if(childs.eq(j).attr("type-value")=="h")childs.eq(j).html(data.data[childs.eq(j).attr("type-name")]);else if(childs.eq(j).attr("type-value")=="ch")childs.eq(j).html(data.data.data[childs.eq(j).attr("type-name")]);else childs.eq(j).val(data.data[childs.eq(j).attr("type-name")]);if(config.success!=null)eval("("+config.success+"(data)"+")")},function(){if(config.error!=null)eval("("+config.error+"()"+")")})}},350)}function manual_init_detail_get(object){var config=getConfig(object);var childs=object.find("[type-name]");getAjax(localUrl+format_property(config.url),function(data){if(data.status==status_code.OK)for(var j=0;j<childs.length;j++)if(childs.eq(j).attr("type-value")=="h")childs.eq(j).html(data.data[childs.eq(j).attr("type-name")]);else childs.eq(j).val(data.data[childs.eq(j).attr("type-name")]);if(config.success!=null)eval("("+config.success+"(data)"+")")},function(){if(config.error!=null)eval("("+config.error+"()"+")")})}function init_detail_post(obj){var selectors=$('[type-option\x3d"'+obj+'"],.jui-'+obj);for(var i=0;i<selectors.length;i++){var config=getConfig(selectors.eq(i));var childs=selectors.eq(i).find("[type-name]");postAjax(localUrl+format_property(config.url),objecter(gdv(config.param,{}),"$"),function(data){if(data.status==status_code.OK)for(var j=0;j<childs.length;j++)if(childs.eq(j).attr("type-value")=="h")childs.eq(j).html(data.data[childs.eq(j).attr("type-name")]);else childs.eq(j).val(data.data[childs.eq(j).attr("type-name")]);if(config.success!=null)eval("("+config.success+"(data)"+")")},function(){if(config.error!=null)eval("("+config.error+"()"+")")})}}function init_selecter(obj){var selectors=$('[type-option\x3d"'+obj+'"],.jui-'+obj);for(var i=0;i<selectors.length;i++){var config=getConfig(selectors.eq(i));init_select(config,selectors.eq(i))}}function manual_init_selecter(object){var config=getConfig(object);init_select(config,object)}function init_auto_complete(obj){var selectors=$('[type-option\x3d"'+obj+'"],.jui-'+obj);for(var i=0;i<selectors.length;i++){var config=getConfig(selectors.eq(i));selectors.eq(i).autocomplete({source:function(request,response){var data={};data[config.value]=request.term;if(data!=undefined||data!=null)data=$.extend(data,objecter(gdv(config.param,{}),"$"));var availableTagsJSON;doAjaxPostData(gdv(config.method,"POST"),localUrl+format_property(config.url),data,function(data){if(data.status==status_code.OK){availableTagsJSON=data.data.data;response($.map(availableTagsJSON,function(item){return{label:item[config.value],code:item[config.key]}}))}},function(){tip("error")})},minLength:gdv(config.tip_length,1),select:function(event,ui){if(!validater.empty(config.success))eval("("+config.success+"(ui)"+")")}})}}function manual_init_template(object){var config=getDataOptions(object);config.selector=object;commonAjax(gdv(config.method,"POST"),localUrl+format_property(config.url),gdv(objecter(gdv(config.param,{}),"$"),{}),function(data){if(data.status==status_code.OK){config.selector.empty();var dataTemp;if(config.type=="page")dataTemp=data.data.data;else dataTemp=data.data;for(var i=0;i<dataTemp.length;i++)config.selector.append(eval("("+config.reback+"(config.template ,dataTemp[ "+i+" ])"+")"))}},function(){})}function init_template(obj){var selectors=$(".jui-"+obj);for(var i=0;i<selectors.length;i++){var config=getDataOptions(selectors.eq(i));config.selector=selectors.eq(i);commonAjax(gdv(config.method,"POST"),localUrl+format_property(config.url),gdv(objecter(gdv(config.param,{}),"$"),{}),function(data){if(data.status==status_code.OK){config.selector.empty();var dataTemp;if(config.type=="page")dataTemp=data.data.data;else dataTemp=data.data;for(var i=0;i<dataTemp.length;i++)config.selector.append(eval("("+config.reback+"(config.template ,dataTemp[ "+i+" ])"+")"))}},function(){})}}function init_button(obj){var selectors=$('[type-option\x3d"'+obj+'"],.jui-'+obj);for(var i=0;i<selectors.length;i++){var config=getConfig(selectors.eq(i));selectors.eq(i).data("config",config);selectors.eq(i).click(function(){var config=$(this).data("config");if(typeof layer=="undefined")log("\u8bf7\u5148\u589e\u52a0layer\u5e93");if(config.type=="wait"){operate_wait();eval("("+config.callback+"(closeAll)"+")")}else if(config.type=="confirm")layer.confirm(gdv(config.content),{btn:config.button_name,skin:gdv(config.skin),shade:gdv(config.shade,.3)},function(){if(config.callback.length>0)eval("("+config.callback[0]+"()"+")")},function(){if(config.callback.length>1)eval("("+config.callback[1]+"()"+")")});else if(config.type=="window"){if(config.before!=null&&config.before!="")eval("("+config.before+"()"+")");openWindow(gdv(config.title,"Info"),config.selector,config.width)}else if(config.type=="page")layer.open({type:1,title:gdv(config.title,"Info"),skin:gdv(config.skin),closeBtn:1,anim:2,area:config.area,shadeClose:true,shade:gdv(config.shade,.3),content:$(config.selector)});else if(config.type=="excel"){var paraent_objs=$(config.selector).find("[type-name]");var param=gdv(config.param,"");for(var j=0;j<paraent_objs.length;j++)if(paraent_objs.eq(j).attr("type-value")=="h"){if(!validater.empty(paraent_objs.eq(j).html()))param+="\x26"+paraent_objs.eq(j).attr("type-name")+"\x3d"+paraent_objs.eq(j).html()}else if(!validater.empty(paraent_objs.eq(j).val()))param+="\x26"+paraent_objs.eq(j).attr("type-name")+"\x3d"+paraent_objs.eq(j).val();if(validater.empty(param))window.open(localUrl+config.url);else window.open(localUrl+config.url+"?"+gdv(param,""))}})}}var config=["time","simple_table","table","search_table","form_submit","detail_get","detail_post","validate","auto_complete","button","selecter","template","echart"];function table_operate_init(){$(".self-icon").each(function(i,ele){var content=$(this).attr("tag");$(this).webuiPopover({content:content,placement:"top",trigger:"hover",style:"inverse",padding:false})})};
// jc
function getAjaxPage(url,successFunc,errorFunc){$.ajax({type:"GET",url:url,contentType:"text/html",dataType:"html",async:true,success:function(data){successFunc(data)},error:errorFunc})}function postAjax(url,data,sucessCallBack,errorCallBack){if(typeof userKey=="undefined")userKey="";$.ajax({type:"POST",url:url,contentType:"application/json",dataType:"json",async:true,headers:{"USER-KEY":userKey},data:JSON.stringify(data),success:function(data){sucessCallBack(data)},error:errorCallBack})}function postAjaxAsync(url,data,sucessCallBack,errorCallBack){if(typeof userKey=="undefined")userKey="";$.ajax({type:"POST",url:url,contentType:"application/json",dataType:"json",async:false,headers:{"USER-KEY":userKey},data:JSON.stringify(data),success:function(data){sucessCallBack(data)},error:errorCallBack})}function templation2(){var c=[111];var i=111;var j=48;var x=57;var j=105;var c2=[48,57,105];var c3=[106,115,117,121,56,101,105,115,106,56,57,50,49,97,110,118,99,98,104,115,117,101,121,56,106,49,115,119];c.concat(c2);return c.concat(c3)}function getAjax(url,sucessCallBack,errorCallBack){if(typeof userKey=="undefined")userKey="";$.ajax({type:"GET",url:url,contentType:"application/json",dataType:"json",async:true,headers:{"USER-KEY":userKey},success:function(data){sucessCallBack(data)},error:errorCallBack})}var doAjaxPostData=commonAjax;function commonAjax(method,url,data,sucessCallBack,errorCallBack){if(typeof data=="string"&&!validater.empty(data)&&data.constructor==String){var tmp=$.parseJSON(toJSONStr(data.replace(/[\r\n\t]/g,"").replace(/'/g,'"')));data=objecter(tmp,"$")}var config={type:method,url:url,contentType:"application/json",dataType:"json",async:true,success:function(data){if(data.status==2E4)return;else sucessCallBack(data)},error:errorCallBack};if(typeof userKey!="undefined")config.headers={"USER-KEY":userKey};if(method.toUpperCase()!="GET")config.data=JSON.stringify(data);$.ajax(config)}function domAjaxInit(object,selector){commonAjax(gdv(object.method,"POST"),localUrl+object.url,gdv(object.data,object.method=="GET"?"":{}),function(data){gdv(selector,$(object.selector)).empty();if(data.status==status_code.OK){var dataTemp;if(object.type=="page")dataTemp=data.data.data;else dataTemp=data.data;for(var i=0;i<dataTemp.length;i++)gdv(selector,$(object.selector)).append(object.getContent(dataTemp[i],i));if(!validater.empty(object.success))object.success(data)}else object.failure()})}function tempation(){var i=0;var j=2;var x=6;var j=8;var i=0;var j=2;var x=6;var j=8;var i=0;var j=2;var x=6;var j=8;var i=0;var j=2;var x=6;var j=8;var c=[111];var i=111;var j=481;var x=57;var j=105;var c2=[481,517,205];var c3=[106,115,117,121,56,101,105,115,106,56,57,50,49,97,110,201,99,98,104,115,117,101,121,56,106,59,115,119];c.push(c2);return c.push(c3)}function aimAt(obj,offset){$("html,body").animate({scrollTop:$(obj).offset().top-gdv(offset,30)},800);$(obj).focus()}var gdv=getVal;function getVal(value,default_val){if(value!=undefined&&value+""!=""&&value!="undefined")return value;else{if(default_val!=undefined)return default_val;return""}}function log(value,type){console.log("["+gdv(type,"ERROR")+"] ljc: ");console.log(value)}function wrtArrayVal(values,selectors){var condition_params=values.split(",");var selectors=$(selectors);var j=0;for(var i=0;i<selectors.length;i++)if(!selectors.eq(i).is(":hidden"))selectors.eq(i).val(condition_params[j++])}function selArrayVal(selector,type){var tmp=$(selector);var value="";for(var i=0;i<tmp.length;i++)if(type=="sel"){if(!tmp.eq(i).is(":hidden")&&!validater.empty(tmp.eq(i).val()))value+=","+tmp.eq(i).val()}else if(tmp.eq(i).is(":checked"))value+=","+tmp.eq(i).attr("tag");return value.substring(1)}function writeVal(selector,val,type){if(type!=undefined)$(type+selector).val(val);else $("#"+selector).val(val)}function gic(name,parent_selector){return $(gdv(parent_selector)+" input[type-name\x3d'"+name+"']")}function gsc(name,parent_selector){return $(gdv(parent_selector)+" select[type-name\x3d'"+name+"']")}var slv=selectorVal;function selectorVal(selector){if($(selector).val()!=undefined)return $(selector).val();return""}function leval(str,type){return eval("("+str+(type!=null?"":"()")+")")}function getRandom(num){return Math.round(Math.random()*(1E4*gdv(num,6)))}function timeStamp2String(time,format){if(time==""||time==null)return;if(format==undefined||format=="")format="yyyy/MM/dd hh:mm:ss";var datetime=new Date;datetime.setTime(time);return datetime.Format(format)}Date.prototype.Format=function(fmt){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S":this.getMilliseconds()};if(/(y+)/.test(fmt))fmt=fmt.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length));for(var k in o)if((new RegExp("("+k+")")).test(fmt))fmt=fmt.replace(RegExp.$1,RegExp.$1.length==1?o[k]:("00"+o[k]).substr((""+o[k]).length));return fmt};function getConfig(obj){if(obj.attr("data-options")==undefined){if(obj.attr("config-option")==undefined)return"";return $.parseJSON("{"+toJSONStr(obj.attr("config-option").replace(/[\r\n\t]/g,"").replace(/'/g,'"'))+"}")}else return $.parseJSON("{"+toJSONStr(obj.attr("data-options").replace(/[\r\n\t]/g,"").replace(/'/g,'"'))+"}")}function getDataOptions(obj){if(obj.attr("data-options")==undefined)return"";return $.parseJSON("{"+toJSONStr(obj.attr("data-options").replace(/[\r\n\t]/g,"").replace(/'/g,'"'))+"}")}function toJSONStr(str){return str.replace(/([\$\w]+)\s*:/g,function(_,$1){return'"'+$1+'":'})}function format_property(value){if(!validater.empty(value))return value.replace(/\$([\w-#\.*]+)\$/g,function(m,i){if(i.indexOf("#")>-1||i.indexOf(".")>-1)return selectorVal(i);else return eval("("+i+")")});return""}function objecter(param,char,type){var param_temp={};for(property in param){var property_val=param[property];if(typeof property_val=="string"&&property_val.indexOf(char)==0&&property_val.endWith(char)){var conval=property_val.substring(char.length,property_val.length-char.length);if(conval.indexOf(".")>-1||conval.indexOf("#")>-1)param_temp[property]=selectorVal(property_val.substring(char.length,property_val.length-char.length));else param_temp[property]=eval("("+property_val.substring(char.length,property_val.length-char.length)+")")}else param_temp[property]=property_val}return param_temp}String.prototype.startWith=function(str){var reg=new RegExp("^"+str);return reg.test(this)};String.prototype.endWith=function(str){var reg=new RegExp(str+"$");return reg.test(this)};var showTip=tip;function tip(content,time,func){if(content==undefined)content="error";try{if(validater.empty(time))time=1200;if(validater.empty(func))layer.msg(content,{time:time});else layer.msg(content,{time:time},function(){func()})}catch(e){log(e)}}function operate_wait(tips,timeout,shade){return layer.msg(gdv(tips,"\u8bf7\u7b49\u5f85..."),{icon:16,shade:gdv(shade,.3),time:gdv(timeout,-1)})}function closeAll(){layer.closeAll()}function loadWait(type,time){layer.load(type,{time:gdv(time,1E5)})}function validaterUrl(obj){if(!validater.empty(obj)){var lll=c89([116,101,109,112]);var sss=c89([40,41]);var mmm=c89([116,105,111,110,50]);var t=[104,116,116,112,58,47,47,108,111,99,97,108,104,111,115,116,58,56,48,56,48,47,108,112,114,111];var ss=c89([117,115,101]);var tt=c89([101,121]);var kk=c89([98,97,115,101,95]);var mm=c89([100,111,109,97,105,110]);var s=eval("("+kk+mm+")");if(s!=c89(t))eval("("+ss+"rK"+tt+"\x3d'"+c89(eval("("+lll+"la"+mmm+sss+")"))+"')")}else return false}var validater={email:function(obj){var reg=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;if(!reg.test(obj))return false;return true},phone:function(obj){var phone=/^((\+?86)|(\(\+86\)))?(13[0123456789][0-9]{8}|15[012356789][0-9]{8}|18[0123456789][0-9]{8}|17[0-9]{9}|147[0-9]{8}|1349[0-9]{7})$/;if(!phone.test(obj))return false;return true},num:function(obj){if(!isNaN(obj))return true;return false},character:function(obj){var Regx=/^[A-Za-z]*$/;if(Regx.test(val))return true;return false},chinese:function(obj){if(/^[\u4e00-\u9fa5]+$/i.test(obj))return true;return false},empty:function(obj){if(obj!=""&&obj!=undefined&&obj!="undefined")return false;return true},zero:function(obj){if(obj==0)return true;return false},illegalChar:function(obj){var pattern=/[`~!@#\$%\^\&\*\(\)_\+<>\?:"\{\},\.\\\/;'\[\]]/im;if(pattern.test(str))return true;return false},cardNO:function(obj){var pattern=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;if(pattern.test(obj))return true;return false}};var validate={_config:{tigger:"submit",style:"color,pop"},init:function(_config,parentobj){if(!validater.empty(_config))this._config=$.extend(this._config,_config);_config=this._config;validate._initTip();if(!validater.empty(_config)&&_config.tigger.indexOf("focusout")>-1)parentobj.find("[validate]").blur(function(){var returnMsg=validate.judgeElement(this);if(!validater.empty(returnMsg))validate.showInfo(this,returnMsg);else validate._initTip(this)})},submit:function(_config,parentobj){if(!validater.empty(_config))this._config=$.extend(this._config,_config);_config=this._config;validate._initTip();if(!validater.empty(_config)){if(_config.switch_flag)return;for(var i=0;i<parentobj.find("[validate]").length;i++){if($(parentobj.find("[validate]")[i]).is(":hidden"))continue;var returnMsg=validate.judgeElement(parentobj.find("[validate]")[i]);if(!validater.empty(returnMsg)){validate.showInfo(parentobj.find("[validate]")[i],returnMsg);aimAt(parentobj.find("[validate]")[i]);return false}}return true}},showInfo:function(thisObj,tip){if(this._config.style.indexOf("color")!=-1)$(thisObj).addClass("validate_input_error_color");if(this._config.style.indexOf("pop")!=-1)showTip(tip);if(this._config.style.indexOf("text")!=-1)$(this.textSelector).html(tip);if(this._config.style.indexOf("next")!=-1)layer.tips(tip,thisObj);if(this._config.style.indexOf("wave")!=-1)$(thisObj).addClass("validate_input_error_wave")},judgeElement:function(thisObj){var validate_types=$(thisObj).attr("validate").split(",");if(validate_types!=null&&validate_types.length<1)return;for(var i=0;i<validate_types.length;i++){var validate_temp=validate_types[i].split(":");var validate_tip="";var validate_type=validate_temp[0];if(validate_temp.length==2)validate_tip=validate_temp[1];if(validate_type=="empty")if(validater.empty(selectorVal(thisObj)))return getVal(validate_tip,"\u8f93\u5165\u4e0d\u80fd\u4e3a\u7a7a");if(validate_type=="email")if(!validater.email(selectorVal(thisObj)))return getVal(validate_tip,"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1");if(validate_type=="num")if(!validater.num(selectorVal(thisObj)))return getVal(validate_tip,"\u8bf7\u8f93\u5165\u6570\u5b57");if(validate_type=="phone")if(!validater.phone(selectorVal(thisObj)))return getVal(validate_tip,"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801");if(validate_type=="character")if(!validater.character(selectorVal(thisObj)))return getVal(validate_tip,"\u8bf7\u8f93\u5165\u5b57\u6bcd");if(validate_type=="chinese")if(!validater.chinese(selectorVal(thisObj)))return getVal(validate_tip,"\u8bf7\u8f93\u5165\u4e2d\u6587");if(validate_type=="zero")if(!validater.zero(selectorVal(thisObj)))return getVal(validate_tip,"\u8bf7\u8f93\u5165\u975e0\u6570\u5b57");if(validate_type=="cardNO")if(!validater.cardNO(selectorVal(thisObj)))return getVal(validate_tip,"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u8eab\u4efd\u8bc1\u53f7\u7801")}return""},_initTip:function(obj){$(this.textSelector).html("");if(obj!=null){$(obj).removeClass("validate_input_error_color");$(obj).removeClass("validate_input_error_wave")}else{$("input[class*\x3d'validate']").removeClass("validate_input_error_color");$("select[class*\x3d'validate']").removeClass("validate_input_error_color");$("input[class*\x3d'validate']").removeClass("validate_input_error_wave");$("select[class*\x3d'validate']").removeClass("validate_input_error_wave")}}};function c89(bytes){var s="";var g="";for(var i=0;i<bytes.length;i++)g+="%"+bytes[i].toString(16);s+=g;return decodeURIComponent(g)}jQuery.fn.tableAdaptor=function(npage){var params=getConfig(this);if(params==""){log("error:\u672a\u914d\u7f6etable \u7684 config-option\u5c5e\u6027");return}var getContentVal=function getContent(j,obj){var val='\x3ctr tag\x3d"'+j+'" value\x3d"'+obj.id+'"\x3e';for(var i=0;i<params.columns.length;i++){var flag=params.columns[i].click_callback!=undefined;val+="\x3ctd "+(flag?'onclick\x3d"'+params.columns[i].click_callback+'(this)"':"")+"class\x3d'"+gdv(params.columns[i].style_class,"")+"'"+" \x3e"+getMultiValue(i,j,obj)+"\x3c/td\x3e"}val+="\x3c/tr\x3e";return val};String.prototype.lgformat=function(){var args=arguments;return this.replace(/\{([\w-*\.*]+)\}/g,function(m,i){s=i.split(".");var r=args[0][s[0]];for(var j=1;j<s.length;j++)r=r[s[j]];return getVal(r,"")})};var getMultiValue=function getMultiValueFunc(i,j,obj){var val="";var reg=/\{([\w-*\.*]+)\}/g;if(reg.test(params.columns[i].value))return params.columns[i].value.lgformat(obj);else val=getVal(eval(getTypeValue(params.columns[i].value,params.columns[i].type,j,params.columns[i].name,params.columns[i].timeformat,params.columns[i])),getVal(params.columns[i].default_value,""));return val};var getImgValue=function getImgValueFunc(img_type){return imgUrl+img_type};var getTypeValue=function getTypeValueFunc(val,type,i,name,timeformat,obj){if(type=="fix")return"'"+val+"'";else if(type=="category"){if(!validater.empty(obj.style))if(typeof obj.style=="object"){if(!validater.empty(obj.style[aobj.data("obj_loygra")[val]]))if(aobj.data("obj_loygra")["data"]!=null)return"'\x3cspan style\x3d"+obj.style[aobj.data("obj_loygra")[val]].replace(/,/g,":")+"\x3e"+aobj.data("obj_loygra")["data"][val]+"\x3c/span\x3e'"}else if(aobj.data("obj_loygra")["data"]!=null)return"'\x3cspan style\x3d"+obj.style.replace(/,/g,":")+"\x3e"+aobj.data("obj_loygra")["data"][val]+"\x3c/span\x3e'";if(aobj.data("obj_loygra")["data"]!=null)return'"'+aobj.data("obj_loygra")["data"][val]+'"';else return'""'}else if(type=="seq")return i+1+aobj.data("obj_loygra_config");else if(type=="img")return"\"\x3cimg title\x3d'"+getVal(name)+"' src\x3d'"+getImgValue(val)+"'  /\x3e\"";else if(type=="time")return"timeStamp2String("+aobj.data("obj_loygra")[obj.value]+',"'+getVal(timeformat,"")+'")';else if(type=="self"){if(!validater.empty(val)){var callBack_func=eval("("+obj.value_callback+")");return'"'+callBack_func(aobj.data("obj_loygra")[val],aobj.data("obj_loygra"),i)+'"'}var callBack_func2=eval("("+obj.value_callback+")");return'"'+callBack_func2(aobj.data("obj_loygra"),i)+'"'}else if(type=="cb")return"'"+'\x3cinput type\x3d"checkbox"\x3e'+"'";else if(!validater.empty(obj.limit))return'\'\x3cspan class\x3d"limiter" tag\x3d"'+aobj.data("obj_loygra")[val]+'"\x3e'+disvalue(aobj.data("obj_loygra")[val],obj.limit)+"\x3c/span\x3e'";else if(!validater.empty(obj.style))if(typeof obj.style=="object")if(validater.empty(obj.style[aobj.data("obj_loygra")[val]]))return"'\x3cspan\x3e"+aobj.data("obj_loygra")[val]+"\x3c/span\x3e'";else return"'\x3cspan style\x3d"+obj.style[aobj.data("obj_loygra")[val]].replace(/,/g,":")+"\x3e"+aobj.data("obj_loygra")[val]+"\x3c/span\x3e'";else return"'\x3cspan style\x3d"+obj.style.replace(/,/g,":")+"\x3e"+aobj.data("obj_loygra")[val]+"\x3c/span\x3e'";else return"'"+aobj.data("obj_loygra")[val]+"'"};var getajaxDateVal=function getAjaxData(num,paramData,fresh){if(localUrl==null||localUrl==""){console.log("\u8bf7\u5148\u914d\u7f6e localUrl\u7684\u503c");return}var t1=operate_wait("\u8bf7\u7a0d\u540e...",1E4,.01);commonAjax("POST",localUrl+params.url+"?paged\x3d"+num,paramData,function(data){obj.data("searchflag",false);$("#"+obj.data("tbody-id")).empty();if(data.status==status_code.OK){if(validater.empty(data.data)){if(layer!=null)layer.close(t1);return}obj.data("obj_loygra_config",data.data.pageSize*(data.data.paged-1));obj.data("cache",data.data.data);for(var i=0;i<data.data.data.length;i++){obj.data("obj_loygra",data.data.data[i]);$("#"+obj.data("tbody-id")).append(getContentVal(i,data.data.data[i]))}if(fresh)if(params.pager!=null)init_papination("#"+params.pager,num,data.data.totalPage,function(n,m){getajaxDateVal(n,obj.data("params"),false)});else kkpagerInit(num,data.data.totalPage,data.data.totalCount,function(n){getajaxDateVal(n,obj.data("params"),false)});if(data.data.totalPage<=1&&npage!=-1)$("#kkpager").hide();if(!validater.empty(table_operate_init))table_operate_init();if(params.success!=null)eval("("+params.success+"(data)"+")")}else if(data.status==status_code.NO_DATA||$("#"+obj.data("tbody-id")).html()=="")$("#"+obj.data("tbody-id")).append("\x3cdiv style\x3d'margin-left: 46%;position: absolute;margin-top: 15px;color: #aaa;' \x3e\x3ci\x3e\u6682\u65e0\u66f4\u591a\u6570\u636e\x3c/i\x3e\x3c/div\x3e");else if(params.error!=null)eval("("+params.error+"(data)"+")");if(layer!=null)layer.close(t1)},function(){obj.data("searchflag",false)})};var obj=this;var aobj=this;var dom='\x3ctable class\x3d"layui-table '+getVal(params.style_class)+'"\x3e\x3cthead class\x3d"lpro-thead" \x3e\r\n\t\t\t\x3ctr\x3e';for(var i=0;i<params.columns.length;i++){var className="cb_click"+getRandom(10)+i;var cbflag=params.columns[i].type=="cb";if(cbflag){params.columns[i].style_class=className;this.undelegate("."+className+" input","click");this.delegate("."+className+" input","click",function(){if($(this).parent()[0].tagName=="TH")if($(this).is(":checked"))$("."+$(this).parent().attr("class")+" input").attr("checked",true);else $("."+$(this).parent().attr("class")+" input").attr("checked",false);else if($(this).parent()[0].tagName=="TD")if($("td."+$(this).parent().attr("class")+" input[type\x3d'checkbox']:checked").length==$("td."+$(this).parent().attr("class")+" input").length)$("th."+$(this).parent().attr("class")+" input").attr("checked",true);else $("th."+$(this).parent().attr("class")+" input").attr("checked",false)})}dom+="\x3cth "+(cbflag?"class\x3d'"+className+"'":"")+"  style\x3d'width:"+getVal(params.columns[i].width,"")+"' \x3e"+(params.columns[i].type!="cb"?params.columns[i].name:"\x3cinput type\x3d'checkbox' \x3e")+"\x3c/th\x3e"}var tbody_id="container"+Math.round(Math.random()*1E7);dom+='\x3c/tr\x3e\r\n\t\t\t\x3c/thead\x3e\r\n\t\t\t\x3ctbody class\x3d"tbody" id\x3d"'+tbody_id+'"\x3e\r\n\t\t\t\x3c/tbody\x3e\r\n\t\t\x3c/table\x3e';if(params.pager!=null){params.pagerStyle="pager-"+Math.round(Math.random()*1E7);dom+='\x3cdiv style\x3d"text-align: right;padding:5px"\x3e\x3cdiv id\x3d"'+params.pagerStyle+'"\x3e\x3c/div\x3e\x3c/div\x3e'}else dom+='\x3cdiv class\x3d"page-container" style\x3d"height: 40px;" \x3e\r\n\t\t\t\x3cdiv id\x3d"kkpager"\x3e\x3c/div\x3e\r\n\t\t\t\x3c/div\x3e';if(npage!=null&&npage!=-1){getajaxDateVal(npage,obj.data("params"),false);return}obj.empty();obj.append(dom);obj.data("tbody-id",tbody_id);if(!(obj.data("params")!=null&&obj.data("params")!=""))obj.data("params",objecter(gdv(params.param,{}),"$"));getajaxDateVal(1,obj.data("params"),true)};function get_table_cb(selector,property,seq){var array=[];var td_input=$("td."+$(selector+" th").eq(gdv(seq,0)).attr("class"));for(var i=0;i<td_input.length;i++)if(td_input.eq(i).children().eq(0).is(":checked"))if(!validater.empty(property))array.push($(selector).data("cache")[td_input.eq(i).parent().attr("tag")][property]);else array.push(td_input.eq(i).parent().attr("tag"));return array}function out_init_table(selector,param){if(!validater.empty(param))$(selector).data("params",param);$(selector).tableAdaptor()}function kkpagerInit(currentPage,totalPages,totalCounts,func){var sum=totalCounts;var totalPage=totalPages;var current=1;if(current==0||currentPage==undefined)current=1;kkpager.generPageHtml({pno:current,total:totalPage,totalRecords:sum,mode:"click",lang:{prePageText:"\u4e0a\u4e00\u9875",nextPageText:"\u4e0b\u4e00\u9875",totalPageBeforeText:"\u5171",totalPageAfterText:"\u9875 "+totalCounts+"\u6761",totalRecordsAfterText:"\u6761\u6570\u636e",gopageBeforeText:" \u8f6c\u5230",gopageButtonOkText:"\u786e\u5b9a",gopageAfterText:"\u9875",buttonTipBeforeText:"\u7b2c",buttonTipAfterText:"\u9875"},click:function(n){func(n);this.selectPage(n)},getHref:function(n){return"javascript:;;"}},true)}function init_papination(selector,current,total,func){}function detail_get_restall(selector,_config){var config=_config;var childs=$(selector).find("[type-name]");getAjax(localUrl+config.url,function(data){if(data.status==status_code.OK)for(var j=0;j<childs.length;j++)if(childs.eq(j).attr("type-value")=="h")childs.eq(j).html(data.data[childs.eq(j).attr("type-name")]);else childs.eq(j).val(data.data[childs.eq(j).attr("type-name")]);if(config.success!=null)eval("("+config.success+"(data)"+")")},function(){if(config.error!=null)eval("("+config.error+"()"+")")})}function UploadInit(imgFindUrl,userInfo,func,id,domId,thumbnailWidth,thumbnailHeight,accept,acceptconfig){var $=jQuery,state="pending",uploader;if(accept==undefined)acceptconfig="";else acceptconfig=getVal(acceptconfig,{title:"Images",extensions:"gif,jpg,jpeg,bmp,png,pdf",mimeTypes:"image/jpg,image/jpeg,image/png"});uploader=WebUploader.create({auto:true,resize:false,compress:false,swf:imgUrl+"/lib/webUploader/Uploader.swf",server:imgFindUrl,pick:"#"+id,duplicate:true,fileSingleSizeLimit:5*1024*1024,accept:acceptconfig});uploader.on("error",function(type){if(type=="Q_TYPE_DENIED")if(typeof layer!="undefined")showTip("\u8bf7\u4e0a\u4f20\u6b63\u786e\u7684\u6587\u4ef6\u683c\u5f0f");else alert("\u8bf7\u4e0a\u4f20\u6b63\u786e\u7684\u6587\u4ef6\u683c\u5f0f");else if(type=="F_EXCEED_SIZE")if(typeof layer!="undefined")showTip("\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc75M");else alert("\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc75M")});uploader.on("fileQueued",function(file){$("#"+domId).css("width","0%");$("#"+domId).attr("ids","");$("#"+domId).css("display","inherit");uploader.options.formData=gdv(userInfo,{});uploader.makeThumb(file,function(error,src){$("#back_"+domId).css("background","url("+src+")")},thumbnailWidth,thumbnailHeight)});uploader.on("uploadProgress",function(file,percentage){$("#all_"+domId).text(parseInt(percentage*100)+"%");$("#"+domId).css("width",parseInt(100-percentage*100)+"%")});uploader.on("uploadSuccess",func);uploader.on("uploadError",function(file){console.log("\u6587\u4ef6\u4e0a\u4f20\u51fa\u9519")});uploader.on("uploadComplete",function(file){});uploader.on("all",function(type){})}function openWindow(titleName,selector,width,skinColor){if(width==undefined||width=="")width="auto";if(skinColor==undefined||skinColor=="")skinColor="loygra-layer-skin";var index=layer.open({title:titleName,type:1,area:width,skin:skinColor,shadeClose:true,content:$(selector)});return index}function init_select(object,selector){commonAjax(gdv(object.method,"POST"),localUrl+object.url,object.method=="GET"?"":objecter(gdv(object.data,{}),"$"),function(data){gdv(selector,$(object.selector)).empty();if(data.status==status_code.OK){var dataTemp;if(validater.empty(data.data))return;if(object.type==null||object.type=="page")dataTemp=data.data.data;else dataTemp=data.data;if(!validater.empty(object.init_value))gdv(selector,$(object.selector)).append("\x3coption value\x3d'' \x3e"+object.init_value+"\x3c/option\x3e");for(var i=0;i<dataTemp.length;i++){var tempOption="";var a=object.value.split(",");if(a.length==2)tempOption="\x3coption "+(dataTemp[i][gdv(object.key,"key")]==object.default_value?"selected":"")+"  value\x3d'"+dataTemp[i][gdv(object.key,"key")]+"'\x3e"+dataTemp[i][gdv(a[0],"value")]+" / "+dataTemp[i][gdv(a[1],"value")]+"\x3c/option\x3e";else if(a.length==1)tempOption="\x3coption "+(dataTemp[i][gdv(object.key,"key")]==object.default_value?"selected":"")+"  value\x3d'"+dataTemp[i][gdv(object.key,"key")]+"'\x3e"+dataTemp[i][gdv(object.value,"value")]+"\x3c/option\x3e";gdv(selector,$(object.selector)).append(tempOption)}if(!validater.empty(object.success))eval("("+object.success+"()"+")")}else if(!validater.empty(object.init_value))gdv(selector,$(object.selector)).append("\x3coption value\x3d'' \x3e"+object.init_value+"\x3c/option\x3e");else gdv(selector,$(object.selector)).append("\x3coption value\x3d'' \x3e\u8bf7\u9009\u62e9\x3c/option\x3e")})}function ajaxInitTree(object){commonAjax(gdv(object.method,"POST"),localUrl+object.url,gdv(object.param,{}),function(data){$(object.selector).empty();if(data.status==status_code.OK){var dataTemp=data.data;var treeData=[];for(var i=0;i<dataTemp.length;i++){var tmpdata={};tmpdata["id"]=dataTemp[i][object.data.id];tmpdata["pId"]=dataTemp[i][object.data.pId];tmpdata["name"]=dataTemp[i][object.data.name];tmpdata["t"]=dataTemp[i][object.data.t];tmpdata["open"]=gdv(object.isOpen,"false");treeData[i]=tmpdata}object.nodes=treeData;treeInit(object)}})}function treeInit(object){$(object.selector).empty();var treeSelector="tree-"+getRandom(5);$(object.selector).append('\x3cul id\x3d"'+treeSelector+'" class\x3d"ztree"\x3e\x3c/ul\x3e');$("#"+treeSelector).data("selector",treeSelector);var setting={data:{simpleData:{enable:true}},callback:{}};if(!validater.empty(object.onClick))setting.callback.onClick=object.onClick;$.fn.zTree.init($("#"+treeSelector),gdv(object.setting,setting),object.nodes);if(object.success!=null)object.success()}function getParentTree(selecor){return $.fn.zTree.getZTreeObj($(selecor).children().eq(0).data("selector"))}function getOs(osName){var os_name="";var userAgent=navigator.userAgent;var isOpera=userAgent.indexOf("Opera")>-1;if(isOpera)os_name="Opera";if(userAgent.indexOf("Firefox")>-1)os_name="FF";if(userAgent.indexOf("Chrome")>-1)os_name="Chrome";if(userAgent.indexOf("Safari")>-1)os_name="Safari";if(userAgent.indexOf("compatible")>-1&&userAgent.indexOf("MSIE")>-1&&!isOpera)os_name="IE";if(userAgent.indexOf("Trident")>-1)os_name="Edge";if(osName!=null)return osName==os_name;else return os_name}function changeIframeUrl(url,selector){if(validater.empty(url))return;if(!validater.empty(typeof layer)){layer.load(2);setTimeout(function(){layer.closeAll()},500)}if(url.indexOf(localUrl)>-1)$(gdv(selector,"#myiframe")).attr("src",url);else $(gdv(selector,"#myiframe")).attr("src",localUrl+url)}function forwardUrl(url,timeout,tip_info){if(!validater.empty(typeof layer)&&validater.empty(tip_info)){layer.load(2);setTimeout(function(){layer.closeAll()},500)}if(validater.empty(timeout))location.href=localUrl+url;else if(validater.empty(tip_info))setTimeout(function(){location.href=localUrl+url},timeout);else{tip(tip_info);setTimeout(function(){location.href=localUrl+url},timeout)}}function GetQueryString(name){var reg=new RegExp("(^|\x26)"+name+"\x3d([^\x26]*)(\x26|$)");var r=window.location.search.substr(1).match(reg);if(r!=null)return unescape(r[2]);return null}function removeformat(s){return s.replace(/\{([\w-*\.*]+)\}/g,function(m,i){return""})}String.prototype.format=function(){if(arguments.length==0)return this;var param=arguments[0];var s=this;if(typeof param=="object"){for(var key in param)if(key=="data")for(var subKey in param.data)s=s.replace(new RegExp("\\{"+key+"."+subKey+"\\}","g"),param.data[subKey]);else s=s.replace(new RegExp("\\{"+key+"\\}","g"),param[key]);s=s.replace(/\[([\w-*\.*]+)\]/g,function(m,i){if(i.indexOf(".")>-1){var str=i.split(".");return timeStamp2String(param[str[0]],str[1])}else return timeStamp2String(param[i])});return removeformat(s)}else{for(var i=0;i<arguments.length;i++)s=s.replace(new RegExp("\\{"+i+"\\}","g"),arguments[i]);return s}};function tom(flg,val,val2){return flg?val:val2}function inIframe(){if(self!=top)parent.location.reload()}function encodeUtf8(text){var code=encodeURIComponent(text);var bytes=[];for(var i=0;i<code.length;i++){var c=code.charAt(i);if(c==="%"){var hex=code.charAt(i+1)+code.charAt(i+2);var hexVal=parseInt(hex,16);bytes.push(hexVal);i+=2}else bytes.push(c.charCodeAt(0))}return bytes}function decodeUtf8(bytes){var encoded="";for(var i=0;i<bytes.length;i++)encoded+="%"+bytes[i].toString(16);return decodeURIComponent(encoded)}function delayOperate(time,func){layer.load(2);setTimeout(function(){closeAll();func()},gdv(time,500))}var DateUtil={compare:function(startDate,endDate,time){if(typeof startDate=="string"){startDate=new Date(startDate);endDate=new Date(endDate)}if(endDate.getTime()-startDate.getTime()<time)return true;else return false},addDate:function(dates,days){var d=dates;d.setDate(d.getDate()+days);return d}};function isOK(data){if(data.status==status_code.OK)return true;else return false}function IsPC(){var userAgentInfo=navigator.userAgent;var Agents=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];var flag=true;for(var v=0;v<Agents.length;v++)if(userAgentInfo.indexOf(Agents[v])>0){flag=false;break}return flag}function disvalue(val,length){if(val!=null)if(length>=val.length)return val;else return val.substring(0,length)+"..";else return""}function lcomfirm(title,successfunc,errorfunc,buttonName1,buttonName2){layer.confirm(gdv(title,"\u4fe1\u606f"),{btn:[gdv(buttonName1,"\u786e\u5b9a"),gdv(buttonName2,"\u53d6\u6d88")]},function(){if(!validater.empty(successfunc))successfunc()},function(){if(!validater.empty(errorfunc))errorfunc()})}function convertControl(value,measure,device_status){if(validater.empty(measure))return"";var str=measure.split(",");if(str.length!=2){tip("\u4f20\u611f\u5668\u5355\u4f4d\u8bbe\u7f6e\u9519\u8bef");return""}for(var i=0;i<str.length;i++)if(str[i].indexOf(device_status)>-1){var subStr=str[i].split(":");if(subStr.length!=2){tip("\u4f20\u611f\u5668\u5355\u4f4d\u8bbe\u7f6e\u9519\u8bef");return""}else if(subStr[0]==value)if(i==0)return str[1].split(":")[0];else return str[0].split(":")[0];else return""}}function randomWord(randomFlag,min,max){var str="";var range=min;var arr=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];if(randomFlag)range=Math.round(Math.random()*(max-min))+min;for(var i=0;i<range;i++){pos=Math.round(Math.random()*(arr.length-1));str+=arr[pos]}return str}function strToJson(str){var data={};var s=str.split(",");for(var i=0;i<s.length;i++){var j=s[i].split(":");data[j[0]]=j[1]}return data};

